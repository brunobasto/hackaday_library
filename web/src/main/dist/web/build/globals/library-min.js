(function(){this.Library=this.Library||{},this.LibraryNamed=this.LibraryNamed||{};var babelHelpers={};babelHelpers["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},babelHelpers.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},babelHelpers.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},babelHelpers.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},babelHelpers.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},babelHelpers.slicedToArray=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),function(){var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.abstractMethod=function(){throw Error("Unimplemented abstract method")},e.collectSuperClassesProperty=function(e,t){for(var n=[e[t]];e.__proto__&&!e.__proto__.isPrototypeOf(Function);)e=e.__proto__,n.push(e[t]);return n},e.getFunctionName=function(e){if(!e.name){var t=e.toString();e.name=t.substring(9,t.indexOf("("))}return e.name},e.getUid=function(t,n){if(t){var r=t[e.UID_PROPERTY];return n&&!t.hasOwnProperty(e.UID_PROPERTY)&&(r=null),r||(t[e.UID_PROPERTY]=e.uniqueIdCounter_++)}return e.uniqueIdCounter_++},e.identityFunction=function(e){return e},e.isBoolean=function(e){return"boolean"==typeof e},e.isDef=function(e){return void 0!==e},e.isDefAndNotNull=function(t){return e.isDef(t)&&!e.isNull(t)},e.isDocument=function(e){return e&&"object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))&&9===e.nodeType},e.isElement=function(e){return e&&"object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))&&1===e.nodeType},e.isFunction=function(e){return"function"==typeof e},e.isNull=function(e){return null===e},e.isNumber=function(e){return"number"==typeof e},e.isWindow=function(e){return null!==e&&e===e.window},e.isObject=function(e){var t="undefined"==typeof e?"undefined":babelHelpers["typeof"](e);return"object"===t&&null!==e||"function"===t},e.isPromise=function(e){return e&&"object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))&&"function"==typeof e.then},e.isString=function(e){return"string"==typeof e},e.mergeSuperClassesProperty=function(t,n,r){var o=n+"_MERGED";if(t.hasOwnProperty(o))return!1;var i=e.collectSuperClassesProperty(t,n);return r&&(i=r(i)),t[o]=i,!0},e.nullFunction=function(){},e}();e.UID_PROPERTY="core_"+(1e9*Math.random()>>>0),e.uniqueIdCounter_=1,this.Library.core=e}.call(this),function(){var e=this.Library.core,t=function(){function t(){babelHelpers.classCallCheck(this,t)}return t.equal=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},t.firstDefinedValue=function(e){for(var t=0;t<e.length;t++)if(void 0!==e[t])return e[t]},t.flatten=function(e,n){for(var r=n||[],o=0;o<e.length;o++)Array.isArray(e[o])?t.flatten(e[o],r):r.push(e[o]);return r},t.remove=function(e,n){var r,o=e.indexOf(n);return(r=o>=0)&&t.removeAt(e,o),r},t.removeAt=function(e,t){return 1===Array.prototype.splice.call(e,t,1).length},t.slice=function(t,n,r){for(var o=[],i=e.isDef(r)?r:t.length,a=n;a<i;a++)o.push(t[a]);return o},t}();this.Library.array=t}.call(this),function(){var e={};e.throwException=function(t){e.nextTick(function(){throw t})},e.run=function(t,n){e.run.workQueueScheduled_||(e.nextTick(e.run.processWorkQueue),e.run.workQueueScheduled_=!0),e.run.workQueue_.push(new e.run.WorkItem_(t,n))},e.run.workQueueScheduled_=!1,e.run.workQueue_=[],e.run.processWorkQueue=function(){for(;e.run.workQueue_.length;){var t=e.run.workQueue_;e.run.workQueue_=[];for(var n=0;n<t.length;n++){var r=t[n];try{r.fn.call(r.scope)}catch(o){e.throwException(o)}}}e.run.workQueueScheduled_=!1},e.run.WorkItem_=function(e,t){this.fn=e,this.scope=t},e.nextTick=function(t,n){var r=t;return n&&(r=t.bind(n)),r=e.nextTick.wrapCallback_(r),"function"==typeof setImmediate?void setImmediate(r):(e.nextTick.setImmediate_||(e.nextTick.setImmediate_=e.nextTick.getSetImmediateEmulator_()),void e.nextTick.setImmediate_(r))},e.nextTick.setImmediate_=null,e.nextTick.getSetImmediateEmulator_=function(){var e;if("function"==typeof MessageChannel&&(e=MessageChannel),"undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,n=t.document;n.open(),n.write(""),n.close();var r="callImmediate"+Math.random(),o=t.location.protocol+"//"+t.location.host,i=function(e){e.origin!==o&&e.data!==r||this.port1.onmessage()}.bind(this);t.addEventListener("message",i,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(r,o)}}}),"undefined"!=typeof e){var t=new e,n={},r=n;return t.port1.onmessage=function(){n=n.next;var e=n.cb;n.cb=null,e()},function(e){r.next={cb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){setTimeout(e,0)}},e.nextTick.wrapCallback_=function(e){return e},this.Library.async=e}.call(this),function(){var e=function(){function e(){babelHelpers.classCallCheck(this,e),this.disposed_=!1}return e.prototype.dispose=function(){this.disposed_||(this.disposeInternal(),this.disposed_=!0)},e.prototype.disposeInternal=function(){},e.prototype.isDisposed=function(){return this.disposed_},e}();this.Library.Disposable=e}.call(this),function(){var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.mixin=function(e){for(var t,n,r=1;r<arguments.length;r++){n=arguments[r];for(t in n)e[t]=n[t]}return e},e.getObjectByName=function(e,t){var n=t||window,r=e.split(".");return r.reduce(function(e,t){return e[t]},n)},e.map=function(e,t){for(var n={},r=Object.keys(e),o=0;o<r.length;o++)n[r[o]]=t(r[o],e[r[o]]);return n},e.shallowEqual=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(e[n[o]]!==t[n[o]])return!1;return!0},e}();this.Library.object=e}.call(this),function(){var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},e.escapeRegex=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},e.getRandomString=function(){var e=2147483648;return Math.floor(Math.random()*e).toString(36)+Math.abs(Math.floor(Math.random()*e)^Date.now()).toString(36)},e.hashCode=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t=31*t+e.charCodeAt(n),t%=4294967296;return t},e.replaceInterval=function(e,t,n,r){return e.substring(0,t)+r+e.substring(n)},e}();this.Library.string=e}.call(this),function(){var e=this.Library.core,t=this.Library.array,n=this.Library.async,r=this.Library.Disposable,o=this.Library.object,i=this.Library.string;this.Library.metal=e,this.LibraryNamed.metal=this.LibraryNamed.metal||{},this.LibraryNamed.metal.core=e,this.LibraryNamed.metal.array=t,this.LibraryNamed.metal.async=n,this.LibraryNamed.metal.Disposable=r,this.LibraryNamed.metal.object=o,this.LibraryNamed.metal.string=i}.call(this),function(){function e(e,n){return function r(){var o=arguments;t(r),r.id=setTimeout(function(){e.apply(null,o)},n)}}function t(e){clearTimeout(e.id)}this.Library.debounce=e,this.LibraryNamed.debounce=this.LibraryNamed.debounce||{},this.LibraryNamed.debounce.cancelDebounce=t,this.LibraryNamed.debounce.debounce=e}.call(this),function(){var e="__metal_data__",t=function(){function t(){babelHelpers.classCallCheck(this,t)}return t.get=function(t){return t[e]||(t[e]={delegating:{},listeners:{}}),t[e]},t}();this.Library.domData=t}.call(this),function(){var e=this.LibraryNamed.metal.Disposable,t=function(e){function t(n,r,o){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this));return i.emitter_=n,i.event_=r,i.listener_=o,i}return babelHelpers.inherits(t,e),t.prototype.disposeInternal=function(){this.removeListener(),this.emitter_=null,this.listener_=null},t.prototype.removeListener=function(){this.emitter_.isDisposed()||this.emitter_.removeListener(this.event_,this.listener_)},t}(e);this.Library.EventHandle=t}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.LibraryNamed.metal.array,n=this.LibraryNamed.metal.Disposable,r=this.Library.EventHandle,o=function(n){function o(){babelHelpers.classCallCheck(this,o);var e=babelHelpers.possibleConstructorReturn(this,n.call(this));return e.events_=[],e.maxListeners_=10,e.shouldUseFacade_=!1,e}return babelHelpers.inherits(o,n),o.prototype.addListener=function(e,t,n){this.validateListener_(t),e=this.normalizeEvents_(e);for(var o=0;o<e.length;o++)this.addSingleListener_(e[o],t,n);return new r(this,e,t)},o.prototype.addSingleListener_=function(e,t,n,r){this.emit("newListener",e,t),this.events_[e]||(this.events_[e]=[]),this.events_[e].push({"default":n,fn:t,origin:r});var o=this.events_[e];o.length>this.maxListeners_&&!o.warned&&(o.warned=!0)},o.prototype.disposeInternal=function(){this.events_=[]},o.prototype.emit=function(e){var n,r=t.slice(arguments,1),o=(this.events_[e]||[]).concat();this.getShouldUseFacade()&&(n={preventDefault:function(){n.preventedDefault=!0},target:this,type:e},r.push(n));for(var i=[],a=0;a<o.length;a++)o[a]["default"]?i.push(o[a]):o[a].fn.apply(this,r);if(!n||!n.preventedDefault)for(var s=0;s<i.length;s++)i[s].fn.apply(this,r);return"*"!==e&&this.emit.apply(this,["*",e].concat(r)),o.length>0},o.prototype.getShouldUseFacade=function(){return this.shouldUseFacade_},o.prototype.listeners=function(e){return(this.events_[e]||[]).map(function(e){return e.fn})},o.prototype.many=function(e,t,n){e=this.normalizeEvents_(e);for(var o=0;o<e.length;o++)this.many_(e[o],t,n);return new r(this,e,n)},o.prototype.many_=function(e,t,n){function r(){0===--t&&o.removeListener(e,r),n.apply(o,arguments)}var o=this;t<=0||o.addSingleListener_(e,r,!1,n)},o.prototype.matchesListener_=function(e,t){return e.fn===t||e.origin&&e.origin===t},o.prototype.normalizeEvents_=function(t){return e.isString(t)?[t]:t},o.prototype.off=function(e,t){this.validateListener_(t),e=this.normalizeEvents_(e);for(var n=0;n<e.length;n++){var r=this.events_[e[n]]||[];this.removeMatchingListenerObjs_(r,t)}return this},o.prototype.on=function(){return this.addListener.apply(this,arguments)},o.prototype.once=function(e,t){return this.many(e,1,t)},o.prototype.removeAllListeners=function(e){if(e)for(var t=this.normalizeEvents_(e),n=0;n<t.length;n++)this.events_[t[n]]=null;else this.events_={};return this},o.prototype.removeMatchingListenerObjs_=function(e,t){for(var n=e.length-1;n>=0;n--)this.matchesListener_(e[n],t)&&e.splice(n,1)},o.prototype.removeListener=function(){return this.off.apply(this,arguments)},o.prototype.setMaxListeners=function(e){return this.maxListeners_=e,this},o.prototype.setShouldUseFacade=function(e){return this.shouldUseFacade_=e,this},o.prototype.validateListener_=function(t){if(!e.isFunction(t))throw new TypeError("Listener must be a function")},o}(n);this.Library.EventEmitter=o}.call(this),function(){var e=this.LibraryNamed.metal.array,t=this.LibraryNamed.metal.Disposable,n=function(t){function n(e,r,o,i){babelHelpers.classCallCheck(this,n);var a=babelHelpers.possibleConstructorReturn(this,t.call(this));return a.blacklist_=o||{},a.originEmitter_=e,a.pendingEvents_=[],a.proxiedEvents_={},a.targetEmitter_=r,a.whitelist_=i,a.startProxy_(),a}return babelHelpers.inherits(n,t),n.prototype.addListener_=function(e,t){return this.originEmitter_.on(e,t)},n.prototype.addListenerForEvent_=function(e){return this.addListener_(e,this.emitOnTarget_.bind(this,e))},n.prototype.disposeInternal=function(){this.removeListeners_(),this.proxiedEvents_=null,this.originEmitter_=null,this.targetEmitter_=null},n.prototype.emitOnTarget_=function(t){var n=[t].concat(e.slice(arguments,1));this.targetEmitter_.emit.apply(this.targetEmitter_,n)},n.prototype.proxyEvent=function(e){this.shouldProxyEvent_(e)&&this.tryToAddListener_(e)},n.prototype.removeListeners_=function(){for(var e=Object.keys(this.proxiedEvents_),t=0;t<e.length;t++)this.proxiedEvents_[e[t]].removeListener();this.proxiedEvents_={},this.pendingEvents_=[]},n.prototype.setOriginEmitter=function(e){var t=this,n=this.originEmitter_?Object.keys(this.proxiedEvents_):this.pendingEvents_;this.removeListeners_(),this.originEmitter_=e,n.forEach(function(e){return t.proxyEvent(e)})},n.prototype.shouldProxyEvent_=function(e){return!(this.whitelist_&&!this.whitelist_[e])&&(!this.blacklist_[e]&&!this.proxiedEvents_[e])},n.prototype.startProxy_=function(){this.targetEmitter_.on("newListener",this.proxyEvent.bind(this))},n.prototype.tryToAddListener_=function(e){this.originEmitter_?this.proxiedEvents_[e]=this.addListenerForEvent_(e):this.pendingEvents_.push(e)},n}(t);this.Library.EventEmitterProxy=n}.call(this),function(){var e=this.LibraryNamed.metal.Disposable,t=function(e){function t(){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this));return n.eventHandles_=[],n}return babelHelpers.inherits(t,e),t.prototype.add=function(){for(var e=0;e<arguments.length;e++)this.eventHandles_.push(arguments[e])},t.prototype.disposeInternal=function(){this.eventHandles_=null},t.prototype.removeAllListeners=function(){for(var e=0;e<this.eventHandles_.length;e++)this.eventHandles_[e].removeListener();this.eventHandles_=[]},t}(e);this.Library.EventHandler=t}.call(this),function(){var e=this.Library.EventEmitter,t=this.Library.EventEmitterProxy,n=this.Library.EventHandle,r=this.Library.EventHandler;this.Library.events=e,this.LibraryNamed.events=this.LibraryNamed.events||{},this.LibraryNamed.events.EventEmitter=e,this.LibraryNamed.events.EventEmitterProxy=t,this.LibraryNamed.events.EventHandle=n,this.LibraryNamed.events.EventHandler=r}.call(this),function(){var e=this.LibraryNamed.metal.array,t=this.LibraryNamed.metal.core,n=this.Library.domData,r=this.LibraryNamed.events.EventHandle,o=function(r){function o(e,t,n,i){babelHelpers.classCallCheck(this,o);var a=babelHelpers.possibleConstructorReturn(this,r.call(this,e,t,n));return a.selector_=i,a}return babelHelpers.inherits(o,r),o.prototype.removeListener=function(){var r=n.get(this.emitter_),o=this.selector_,i=t.isString(o)?r.delegating[this.event_].selectors:r.listeners,a=t.isString(o)?o:this.event_;e.remove(i[a]||[],this.listener_),i[a]&&0===i[a].length&&delete i[a]},o}(r);this.Library.DomDelegatedEventHandle=o}.call(this),function(){var e=this.LibraryNamed.events.EventHandle,t=function(e){function t(n,r,o,i){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,e.call(this,n,r,o));return a.capture_=i,a}return babelHelpers.inherits(t,e),t.prototype.removeListener=function(){this.emitter_.removeEventListener(this.event_,this.listener_,this.capture_)},t}(e);this.Library.DomEventHandle=t}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.LibraryNamed.metal.object,n=this.Library.domData,r=this.Library.DomDelegatedEventHandle,o=this.Library.DomEventHandle,i="__metal_next_target__",a={blur:!0,error:!0,focus:!0,invalid:!0,load:!0,scroll:!0},s=function(){function s(){babelHelpers.classCallCheck(this,s)}return s.addClasses=function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?s.addClassesWithNative_(t,n):s.addClassesWithoutNative_(t,n))},s.addClassesWithNative_=function(e,t){t.split(" ").forEach(function(t){t&&e.classList.add(t)})},s.addClassesWithoutNative_=function(e,t){var n=" "+e.className+" ",r="";t=t.split(" ");for(var o=0;o<t.length;o++){var i=t[o];n.indexOf(" "+i+" ")===-1&&(r+=" "+i)}r&&(e.className=e.className+r)},s.addElementListener_=function(e,t,r){var o=n.get(e);s.addToArr_(o.listeners,t,r)},s.addSelectorListener_=function(e,t,r,o){var i=n.get(e);s.addToArr_(i.delegating[t].selectors,r,o)},s.addToArr_=function(e,t,n){e[t]||(e[t]=[]),e[t].push(n)},s.attachDelegateEvent_=function(e,t){var r=n.get(e);r.delegating[t]||(r.delegating[t]={handle:s.on(e,t,s.handleDelegateEvent_,!!a[t]),selectors:{}})},s.closest=function(e,t){for(;e&&!s.match(e,t);)e=e.parentNode;return e},s.append=function(t,n){if(e.isString(n)&&(n=s.buildFragment(n)),n instanceof NodeList)for(var r=Array.prototype.slice.call(n),o=0;o<r.length;o++)t.appendChild(r[o]);else t.appendChild(n);return n},s.buildFragment=function(e){var t=document.createElement("div");t.innerHTML="<br>"+e,t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n},s.contains=function(t,n){return e.isDocument(t)?t.documentElement.contains(n):t.contains(n)},s.delegate=function(t,n,o,i,a){var l=s.customEvents[n];return l&&l.delegate&&(n=l.originalEvent,i=l.handler.bind(l,i)),a&&(i=i.bind(),i.defaultListener_=!0),s.attachDelegateEvent_(t,n),e.isString(o)?s.addSelectorListener_(t,n,o,i):s.addElementListener_(o,n,i),new r(e.isString(o)?t:o,n,i,e.isString(o)?o:null)},s.enterDocument=function(e){e&&s.append(document.body,e)},s.exitDocument=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},s.handleDelegateEvent_=function(t){s.normalizeDelegateEvent_(t);for(var n=e.isDef(t[i])?t[i]:t.target,r=!0,o=t.currentTarget,a=t.currentTarget.parentNode,l=[];n&&n!==a&&!t.stopped;)t.delegateTarget=n,r&=s.triggerMatchedListeners_(o,n,t,l),n=n.parentNode;for(var c=0;c<l.length&&!t.defaultPrevented;c++)t.delegateTarget=l[c].element,r&=l[c].fn(t);return t.delegateTarget=null,t[i]=a,r},s.hasClass=function(e,t){return"classList"in e?s.hasClassWithNative_(e,t):s.hasClassWithoutNative_(e,t)},s.hasClassWithNative_=function(e,t){return e.classList.contains(t)},s.hasClassWithoutNative_=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>=0},s.isEmpty=function(e){return 0===e.childNodes.length},s.match=function(e,t){if(!e||1!==e.nodeType)return!1;var n=Element.prototype,r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return r?r.call(e,t):s.matchFallback_(e,t)},s.matchFallback_=function(e,t){for(var n=document.querySelectorAll(t,e.parentNode),r=0;r<n.length;++r)if(n[r]===e)return!0;return!1},s.next=function(e,t){do if(e=e.nextSibling,e&&s.match(e,t))return e;while(e);return null},s.normalizeDelegateEvent_=function(e){e.stopPropagation=s.stopPropagation_,e.stopImmediatePropagation=s.stopImmediatePropagation_},s.on=function(t,n,r,i){if(e.isString(t))return s.delegate(document,n,t,r);var a=s.customEvents[n];return a&&a.event&&(n=a.originalEvent,r=a.handler.bind(a,r)),t.addEventListener(n,r,i),new o(t,n,r,i)},s.once=function(e,t,n){var r=this.on(e,t,function(){return r.removeListener(),n.apply(this,arguments)});return r},s.parent=function(e,t){return s.closest(e.parentNode,t)},s.registerCustomEvent=function(e,t){s.customEvents[e]=t},s.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},s.removeClasses=function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?s.removeClassesWithNative_(t,n):s.removeClassesWithoutNative_(t,n))},s.removeClassesWithNative_=function(e,t){t.split(" ").forEach(function(t){t&&e.classList.remove(t)})},s.removeClassesWithoutNative_=function(e,t){var n=" "+e.className+" ";t=t.split(" ");for(var r=0;r<t.length;r++)n=n.replace(" "+t[r]+" "," ");e.className=n.trim()},s.replace=function(e,t){e&&t&&e!==t&&e.parentNode&&(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e))},s.stopImmediatePropagation_=function(){this.stopped=!0,this.stoppedImmediate=!0,Event.prototype.stopImmediatePropagation.call(this)},s.stopPropagation_=function(){this.stopped=!0,Event.prototype.stopPropagation.call(this)},s.supportsEvent=function(t,n){return!!s.customEvents[n]||(e.isString(t)&&(l[t]||(l[t]=document.createElement(t)),t=l[t]),"on"+n in t)},s.toElement=function(t){return e.isElement(t)||e.isDocument(t)?t:e.isString(t)?"#"===t[0]&&t.indexOf(" ")===-1?document.getElementById(t.substr(1)):document.querySelector(t):null},s.toggleClasses=function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?s.toggleClassesWithNative_(t,n):s.toggleClassesWithoutNative_(t,n))},s.toggleClassesWithNative_=function(e,t){t.split(" ").forEach(function(t){e.classList.toggle(t)})},s.toggleClassesWithoutNative_=function(e,t){var n=" "+e.className+" ";t=t.split(" ");for(var r=0;r<t.length;r++){var o=" "+t[r]+" ",i=n.indexOf(o);n=i===-1?n+t[r]+" ":n.substring(0,i)+" "+n.substring(i+o.length)}e.className=n.trim()},s.triggerEvent=function(e,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(n,!0,!0),t.mixin(o,r),e.dispatchEvent(o)},s.triggerListeners_=function(e,t,n,r){var o=!0;e=e||[];for(var i=0;i<e.length&&!t.stoppedImmediate;i++)e[i].defaultListener_?r.push({element:n,fn:e[i]}):o&=e[i](t);return o},s.triggerMatchedListeners_=function(e,t,r,o){for(var i=n.get(t),a=i.listeners[r.type],l=s.triggerListeners_(a,r,t,o),c=n.get(e).delegating[r.type].selectors,u=Object.keys(c),d=0;d<u.length&&!r.stoppedImmediate;d++)s.match(t,u[d])&&(a=c[u[d]],l&=s.triggerListeners_(a,r,t,o));return l},s}(),l={};s.customEvents={},this.Library.dom=s}.call(this),function(){var e=this.Library.dom,t=this.LibraryNamed.events.EventEmitterProxy,n=function(t){function n(){return babelHelpers.classCallCheck(this,n),babelHelpers.possibleConstructorReturn(this,t.apply(this,arguments))}return babelHelpers.inherits(n,t),n.prototype.addListener_=function(n,r){if(this.originEmitter_.addEventListener){if(this.isDelegateEvent_(n)){var o=n.indexOf(":",9),i=n.substring(9,o),a=n.substring(o+1);return e.delegate(this.originEmitter_,i,a,r)}return e.on(this.originEmitter_,n,r)}return t.prototype.addListener_.call(this,n,r)},n.prototype.isDelegateEvent_=function(e){return"delegate:"===e.substr(0,9)},n.prototype.isSupportedDomEvent_=function(t){return!this.originEmitter_||!this.originEmitter_.addEventListener||(this.isDelegateEvent_(t)&&t.indexOf(":",9)!==-1||e.supportsEvent(this.originEmitter_,t))},n.prototype.shouldProxyEvent_=function(e){return t.prototype.shouldProxyEvent_.call(this,e)&&this.isSupportedDomEvent_(e)},n}(t);this.Library.DomEventEmitterProxy=n}.call(this),function(){var e=this.Library.dom,t=this.LibraryNamed.metal.string,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return n.checkAnimationEventName=function(){return void 0===n.animationEventName_&&(n.animationEventName_={animation:n.checkAnimationEventName_("animation"),transition:n.checkAnimationEventName_("transition")}),n.animationEventName_},n.checkAnimationEventName_=function(e){for(var r=["Webkit","MS","O",""],o=t.replaceInterval(e,0,1,e.substring(0,1).toUpperCase()),i=[o+"End",o+"End",o+"End",e+"end"],a=0;a<r.length;a++)if(void 0!==n.animationElement_.style[r[a]+o])return r[a].toLowerCase()+i[a];return e+"end"},n.checkAttrOrderChange=function(){if(void 0===n.attrOrderChange_){var t='<div data-component="" data-ref=""></div>',r=document.createElement("div");e.append(r,t),n.attrOrderChange_=t!==r.innerHTML}return n.attrOrderChange_},n}();n.animationElement_=document.createElement("div"),n.animationEventName_=void 0,n.attrOrderChange_=void 0,this.Library.features=n}.call(this),function(){var e=this.LibraryNamed.metal.async,t=this.Library.dom,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return n.run=function(e,n){var r=document.createElement("script");return r.text=e,n?n(r):document.head.appendChild(r),t.exitDocument(r),r},n.runFile=function(e,n,r){var o=document.createElement("script");o.src=e;var i=function(){t.exitDocument(o),n&&n()};return t.once(o,"load",i),t.once(o,"error",i),r?r(o):document.head.appendChild(o),o},n.runScript=function(r,o,i){var a=function(){o&&o()};return r.type&&"text/javascript"!==r.type?void e.nextTick(a):(t.exitDocument(r),r.src?n.runFile(r.src,o,i):(e.nextTick(a),n.run(r.text,i)))},n.runScriptsInElement=function(t,r,o){var i=t.querySelectorAll("script");i.length?n.runScriptsInOrder(i,0,r,o):r&&e.nextTick(r)},n.runScriptsInOrder=function(t,r,o,i){n.runScript(t.item(r),function(){r<t.length-1?n.runScriptsInOrder(t,r+1,o,i):o&&e.nextTick(o)},i)},n}();this.Library.globalEval=n}.call(this),function(){var e=this.LibraryNamed.metal.async,t=this.Library.dom,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return n.run=function(e,t){var n=document.createElement("style");return n.innerHTML=e,t?t(n):document.head.appendChild(n),n},n.runFile=function(e,t,r){var o=document.createElement("link");return o.rel="stylesheet",o.href=e,n.runStyle(o,t,r),o},n.runStyle=function(n,r,o){var i=function(){r&&r()};return n.rel&&"stylesheet"!==n.rel?void e.nextTick(i):("STYLE"===n.tagName?e.nextTick(i):(t.once(n,"load",i),t.once(n,"error",i)),o?o(n):document.head.appendChild(n),n)},n.runStylesInElement=function(t,r,o){var i=t.querySelectorAll("style,link");if(0===i.length&&r)return void e.nextTick(r);for(var a=0,s=function(){r&&++a===i.length&&e.nextTick(r)},l=0;l<i.length;l++)n.runStyle(i[l],s,o)},n}();this.Library.globalEvalStyles=n}.call(this),function(){var e=this.Library.dom,t=this.Library.features,n={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"};Object.keys(n).forEach(function(t){e.registerCustomEvent(t,{delegate:!0,handler:function(e,n){var r=n.relatedTarget,o=n.delegateTarget;if(!r||r!==o&&!o.contains(r))return n.customType=t,e(n)},originalEvent:n[t]})});var r={animation:"animationend",transition:"transitionend"};Object.keys(r).forEach(function(n){var o=r[n];e.registerCustomEvent(o,{event:!0,delegate:!0,handler:function(e,t){return t.customType=o,e(t)},originalEvent:t.checkAnimationEventName()[n]})})}.call(this),function(){var e=this.Library.dom,t=this.Library.domData,n=this.Library.DomEventEmitterProxy,r=this.Library.DomEventHandle,o=this.Library.features,i=this.Library.globalEval,a=this.Library.globalEvalStyles;this.Library.dom=e,this.LibraryNamed.dom=this.LibraryNamed.dom||{},this.LibraryNamed.dom.dom=e,this.LibraryNamed.dom.domData=t,this.LibraryNamed.dom.DomEventEmitterProxy=n,this.LibraryNamed.dom.DomEventHandle=r,this.LibraryNamed.dom.features=o,this.LibraryNamed.dom.globalEval=i,this.LibraryNamed.dom.globalEvalStyles=a}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.LibraryNamed.metal.async,n=function(){};n.prototype.then=function(){},n.IMPLEMENTED_BY_PROP="$goog_Thenable",n.addImplementation=function(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0},n.isImplementedBy=function(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}};var r=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}},o=function i(e,t){this.state_=i.State_.PENDING,this.result_=void 0,this.parent_=null,this.callbackEntries_=null,this.executing_=!1,i.UNHANDLED_REJECTION_DELAY>0?this.unhandledRejectionId_=0:0===i.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1);try{var n=this;e.call(t,function(e){n.resolve_(i.State_.FULFILLED,e)},function(e){n.resolve_(i.State_.REJECTED,e)})}catch(r){this.resolve_(i.State_.REJECTED,r)}};o.UNHANDLED_REJECTION_DELAY=0,o.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},o.CallbackEntry_=null,o.resolve=function(e){return new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){e.length||t(void 0);for(var r,o=0;r=e[o];o++)r.then(t,n)})},o.all=function(e){return new o(function(t,n){var o=e.length,i=[];if(!o)return void t(i);for(var a,s=function(e,n){o--,i[e]=n,0===o&&t(i)},l=function(e){n(e)},c=0;a=e[c];c++)a.then(r(s,c),l)})},o.firstFulfilled=function(e){return new o(function(t,n){var o=e.length,i=[];if(!o)return void t(void 0);for(var a,s=function(e){t(e)},l=function(e,t){o--,i[e]=t,0===o&&n(i)},c=0;a=e[c];c++)a.then(s,r(l,c))})},o.prototype.then=function(t,n,r){return this.addChildPromise_(e.isFunction(t)?t:null,e.isFunction(n)?n:null,r)},n.addImplementation(o),o.prototype.thenAlways=function(e,t){var n=function(){try{e.call(t)}catch(n){o.handleRejection_.call(null,n)}};return this.addCallbackEntry_({child:null,onRejected:n,onFulfilled:n}),this},o.prototype.thenCatch=function(e,t){return this.addChildPromise_(null,e,t)},o.prototype["catch"]=o.prototype.thenCatch,o.prototype.cancel=function(e){this.state_===o.State_.PENDING&&t.run(function(){var t=new o.CancellationError(e);t.IS_CANCELLATION_ERROR=!0,this.cancelInternal_(t)},this)},o.prototype.cancelInternal_=function(e){this.state_===o.State_.PENDING&&(this.parent_?this.parent_.cancelChild_(this,e):this.resolve_(o.State_.REJECTED,e))},o.prototype.cancelChild_=function(e,t){if(this.callbackEntries_){for(var n,r=0,i=-1,a=0;n=this.callbackEntries_[a];a++){var s=n.child;if(s&&(r++,s===e&&(i=a),i>=0&&r>1))break}if(i>=0)if(this.state_===o.State_.PENDING&&1===r)this.cancelInternal_(t);else{var l=this.callbackEntries_.splice(i,1)[0];this.executeCallback_(l,o.State_.REJECTED,t)}}},o.prototype.addCallbackEntry_=function(e){this.callbackEntries_&&this.callbackEntries_.length||this.state_!==o.State_.FULFILLED&&this.state_!==o.State_.REJECTED||this.scheduleCallbacks_(),this.callbackEntries_||(this.callbackEntries_=[]),this.callbackEntries_.push(e)},o.prototype.addChildPromise_=function(t,n,r){var i={child:null,onFulfilled:null,onRejected:null};return i.child=new o(function(o,a){i.onFulfilled=t?function(e){try{var n=t.call(r,e);o(n)}catch(i){a(i)}}:o,i.onRejected=n?function(t){try{var i=n.call(r,t);!e.isDef(i)&&t.IS_CANCELLATION_ERROR?a(t):o(i)}catch(s){a(s)}}:a}),i.child.parent_=this,this.addCallbackEntry_(i),i.child},o.prototype.unblockAndFulfill_=function(e){if(this.state_!==o.State_.BLOCKED)throw new Error("CancellablePromise is not blocked.");this.state_=o.State_.PENDING,this.resolve_(o.State_.FULFILLED,e)},o.prototype.unblockAndReject_=function(e){if(this.state_!==o.State_.BLOCKED)throw new Error("CancellablePromise is not blocked.");this.state_=o.State_.PENDING,this.resolve_(o.State_.REJECTED,e)},o.prototype.resolve_=function(t,r){if(this.state_===o.State_.PENDING){if(this===r)t=o.State_.REJECTED,r=new TypeError("CancellablePromise cannot resolve to itself");else{if(n.isImplementedBy(r))return r=r,this.state_=o.State_.BLOCKED,void r.then(this.unblockAndFulfill_,this.unblockAndReject_,this);if(e.isObject(r))try{var i=r.then;if(e.isFunction(i))return void this.tryThen_(r,i)}catch(a){t=o.State_.REJECTED,r=a}}this.result_=r,this.state_=t,this.scheduleCallbacks_(),t!==o.State_.REJECTED||r.IS_CANCELLATION_ERROR||o.addUnhandledRejection_(this,r)}},o.prototype.tryThen_=function(e,t){this.state_=o.State_.BLOCKED;var n=this,r=!1,i=function(e){r||(r=!0,n.unblockAndFulfill_(e))},a=function(e){r||(r=!0,n.unblockAndReject_(e))};try{t.call(e,i,a)}catch(s){a(s)}},o.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,t.run(this.executeCallbacks_,this))},o.prototype.executeCallbacks_=function(){for(;this.callbackEntries_&&this.callbackEntries_.length;){
var e=this.callbackEntries_;this.callbackEntries_=[];for(var t=0;t<e.length;t++)this.executeCallback_(e[t],this.state_,this.result_)}this.executing_=!1},o.prototype.executeCallback_=function(e,t,n){t===o.State_.FULFILLED?e.onFulfilled(n):(this.removeUnhandledRejection_(),e.onRejected(n))},o.prototype.removeUnhandledRejection_=function(){var e;if(o.UNHANDLED_REJECTION_DELAY>0)for(e=this;e&&e.unhandledRejectionId_;e=e.parent_)clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0===o.UNHANDLED_REJECTION_DELAY)for(e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},o.addUnhandledRejection_=function(e,n){o.UNHANDLED_REJECTION_DELAY>0?e.unhandledRejectionId_=setTimeout(function(){o.handleRejection_.call(null,n)},o.UNHANDLED_REJECTION_DELAY):0===o.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,t.run(function(){e.hadUnhandledRejection_&&o.handleRejection_.call(null,n)}))},o.handleRejection_=t.throwException,o.setUnhandledRejectionHandler=function(e){o.handleRejection_=e},o.CancellationError=function(e){function t(n){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,e.call(this,n));return n&&(r.message=n),r}return babelHelpers.inherits(t,e),t}(Error),o.CancellationError.prototype.name="cancel",this.LibraryNamed.Promise=this.LibraryNamed.Promise||{},this.LibraryNamed.Promise.CancellablePromise=o,this.Library.Promise=o}.call(this),function(){var e={document:document,window:window};this.Library.globals=e}.call(this),function(){function e(e){var t=document.createElement("a");return t.href=e,{hash:t.hash,hostname:t.hostname,password:t.password,pathname:"/"===t.pathname[0]?t.pathname:"/"+t.pathname,port:t.port,protocol:t.protocol,search:t.search,username:t.username}}this.Library.parseFromAnchor=e}.call(this),function(){function e(e){return t.isFunction(URL)&&URL.length?new URL(e):n(e)}var t=this.LibraryNamed.metal.core,n=this.Library.parseFromAnchor;this.Library.parse=e}.call(this),function(){var e=this.LibraryNamed.metal.Disposable,t=Object.create,n=function(e){function n(){babelHelpers.classCallCheck(this,n);var r=babelHelpers.possibleConstructorReturn(this,e.call(this));return r.keys=t(null),r.values=t(null),r}return babelHelpers.inherits(n,e),n.prototype.add=function(e,t){return this.keys[e.toLowerCase()]=e,this.values[e.toLowerCase()]=this.values[e.toLowerCase()]||[],this.values[e.toLowerCase()].push(t),this},n.prototype.clear=function(){return this.keys=t(null),this.values=t(null),this},n.prototype.contains=function(e){return e.toLowerCase()in this.values},n.prototype.disposeInternal=function(){this.values=null},n.prototype.get=function(e){var t=this.values[e.toLowerCase()];if(t)return t[0]},n.prototype.getAll=function(e){return this.values[e.toLowerCase()]},n.prototype.isEmpty=function(){return 0===this.size()},n.prototype.names=function(){var e=this;return Object.keys(this.values).map(function(t){return e.keys[t]})},n.prototype.remove=function(e){return delete this.keys[e.toLowerCase()],delete this.values[e.toLowerCase()],this},n.prototype.set=function(e,t){return this.keys[e.toLowerCase()]=e,this.values[e.toLowerCase()]=[t],this},n.prototype.size=function(){return this.names().length},n.prototype.toString=function(){return JSON.stringify(this.values)},n}(e);this.Library.MultiMap=n}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.LibraryNamed.metal.string,n=this.Library.parse,r=this.Library.MultiMap,o=n,i=function(){function n(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];babelHelpers.classCallCheck(this,n),this.url=n.parse(this.maybeAddProtocolAndHostname_(e))}return n.prototype.addParametersFromMultiMap=function(e){var t=this;return e.names().forEach(function(n){e.getAll(n).forEach(function(e){t.addParameterValue(n,e)})}),this},n.prototype.addParameterValue=function(t,n){return this.ensureQueryInitialized_(),e.isDef(n)&&(n=String(n)),this.query.add(t,n),this},n.prototype.addParameterValues=function(e,t){var n=this;return t.forEach(function(t){return n.addParameterValue(e,t)}),this},n.prototype.ensureQueryInitialized_=function(){var t=this;if(!this.query){this.query=new r;var o=this.url.search;o&&o.substring(1).split("&").forEach(function(r){var o=r.split("="),i=babelHelpers.slicedToArray(o,2),a=i[0],s=i[1];e.isDef(s)&&(s=n.urlDecode(s)),t.addParameterValue(a,s)})}},n.prototype.getHash=function(){return this.url.hash||""},n.prototype.getHost=function(){var e=this.getHostname();if(e){var t=this.getPort();t&&"80"!==t&&(e+=":"+t)}return e},n.prototype.getHostname=function(){var e=this.url.hostname;return e===n.HOSTNAME_PLACEHOLDER?"":e},n.prototype.getOrigin=function(){var e=this.getHost();return e?this.getProtocol()+"//"+e:""},n.prototype.getParameterValue=function(e){return this.ensureQueryInitialized_(),this.query.get(e)},n.prototype.getParameterValues=function(e){return this.ensureQueryInitialized_(),this.query.getAll(e)},n.prototype.getParameterNames=function(){return this.ensureQueryInitialized_(),this.query.names()},n.getParseFn=function(){return o},n.prototype.getPathname=function(){return this.url.pathname},n.prototype.getPort=function(){return this.url.port},n.prototype.getProtocol=function(){return this.url.protocol},n.prototype.getSearch=function(){var t=this,n="",r="";return this.getParameterNames().forEach(function(n){t.getParameterValues(n).forEach(function(t){r+=n,e.isDef(t)&&(r+="="+encodeURIComponent(t)),r+="&"})}),r=r.slice(0,-1),r&&(n+="?"+r),n},n.prototype.hasParameter=function(e){return this.ensureQueryInitialized_(),this.query.contains(e)},n.prototype.makeUnique=function(){return this.setParameterValue(n.RANDOM_PARAM,t.getRandomString()),this},n.prototype.maybeAddProtocolAndHostname_=function(e){var t=e;if(e.indexOf("://")===-1&&0!==e.indexOf("javascript:"))switch(t=n.DEFAULT_PROTOCOL,"/"===e[0]&&"/"===e[1]||(t+="//"),e.charAt(0)){case".":case"?":case"#":t+=n.HOSTNAME_PLACEHOLDER,t+="/",t+=e;break;case"":case"/":"/"!==e[1]&&(t+=n.HOSTNAME_PLACEHOLDER),t+=e;break;default:t+=e}return t},n.normalizeObject=function(e){var t=e.pathname?e.pathname.length:0;return t>1&&"/"===e.pathname[t-1]&&(e.pathname=e.pathname.substr(0,t-1)),e},n.parse=function(e){return n.normalizeObject(o(e))},n.prototype.removeParameter=function(e){return this.ensureQueryInitialized_(),this.query.remove(e),this},n.prototype.removeUnique=function(){return this.removeParameter(n.RANDOM_PARAM),this},n.prototype.setHash=function(e){return this.url.hash=e,this},n.prototype.setHostname=function(e){return this.url.hostname=e,this},n.prototype.setParameterValue=function(e,t){return this.removeParameter(e),this.addParameterValue(e,t),this},n.prototype.setParameterValues=function(e,t){var n=this;return this.removeParameter(e),t.forEach(function(t){return n.addParameterValue(e,t)}),this},n.prototype.setPathname=function(e){return this.url.pathname=e,this},n.prototype.setPort=function(e){return this.url.port=e,this},n.setParseFn=function(e){o=e},n.prototype.setProtocol=function(e){return this.url.protocol=e,":"!==this.url.protocol[this.url.protocol.length-1]&&(this.url.protocol+=":"),this},n.prototype.toString=function(){var e="",t=this.getHost();return t&&(e+=this.getProtocol()+"//"),e+=t+this.getPathname()+this.getSearch()+this.getHash()},n.joinPaths=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),n=n.map(function(e){return"/"===e.charAt(0)?e.substring(1):e}),[e].concat(n).join("/").replace(/\/$/,"")},n.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},n}();i.DEFAULT_PROTOCOL="http:",i.HOSTNAME_PLACEHOLDER="hostname"+Date.now(),i.RANDOM_PARAM="zx",this.Library.Uri=i}.call(this),function(){var e=this.Library.globals,t=this.Library.Uri,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return n.copyNodeAttributes=function(e,t){Array.prototype.slice.call(e.attributes).forEach(function(e){return t.setAttribute(e.name,e.value)})},n.getCurrentBrowserPath=function(){return this.getCurrentBrowserPathWithoutHash()+e.window.location.hash},n.getCurrentBrowserPathWithoutHash=function(){return e.window.location.pathname+e.window.location.search},n.getUrlPath=function(e){var n=new t(e);return n.getPathname()+n.getSearch()+n.getHash()},n.getUrlPathWithoutHash=function(e){var n=new t(e);return n.getPathname()+n.getSearch()},n.isCurrentBrowserPath=function(e){return!!e&&n.getUrlPathWithoutHash(e)===this.getCurrentBrowserPathWithoutHash()},n.isHtml5HistorySupported=function(){return!(!e.window.history||!e.window.history.pushState)},n.clearNodeAttributes=function(e){Array.prototype.slice.call(e.attributes).forEach(function(t){return e.removeAttribute(t.name)})},n}();this.Library.utils=n}.call(this),function(){var e=this.LibraryNamed.metal.core,t=function(){function t(n,r){if(babelHelpers.classCallCheck(this,t),!e.isDefAndNotNull(n))throw new Error("Route path not specified.");if(!e.isFunction(r))throw new Error("Route handler is not a function.");this.handler=r,this.path=n}return t.prototype.getHandler=function(){return this.handler},t.prototype.getPath=function(){return this.path},t.prototype.matchesPath=function(t){var n=this.path;return e.isString(n)?t===n:e.isFunction(n)?n(t):n instanceof RegExp&&t.search(n)>-1},t}();this.Library.Route=t}.call(this),function(){var e=this.LibraryNamed.metal.Disposable,t=function(e){function t(){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this));return n.cache=null,n.cacheable=!1,n}return babelHelpers.inherits(t,e),t.prototype.addCache=function(e){return this.cacheable&&(this.cache=e),this},t.prototype.clearCache=function(){return this.cache=null,this},t.prototype.disposeInternal=function(){this.clearCache()},t.prototype.getCache=function(){return this.cache},t.prototype.isCacheable=function(){return this.cacheable},t.prototype.setCacheable=function(e){e||this.clearCache(),this.cacheable=e},t}(e);this.Library.Cacheable=t}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.LibraryNamed.dom.globalEval,n=this.Library.Cacheable,r=this.Library.Promise,o=function(n){function o(){babelHelpers.classCallCheck(this,o);var t=babelHelpers.possibleConstructorReturn(this,n.call(this));return t.id=t.makeId_(e.getUid()),t.title=null,t}return babelHelpers.inherits(o,n),o.prototype.activate=function(){},o.prototype.beforeDeactivate=function(){},o.prototype.beforeUpdateHistoryPath=function(e){return e},o.prototype.beforeUpdateHistoryState=function(e){return e},o.prototype.deactivate=function(){},o.prototype.disposeInternal=function(){n.prototype.disposeInternal.call(this)},o.prototype.evaluateScripts=function(e){return Object.keys(e).forEach(function(n){e[n].activeChild&&t.runScriptsInElement(e[n].activeChild)}),r.resolve()},o.prototype.evaluateStyles=function(){return r.resolve()},o.prototype.flip=function(e){var t=this,n=[];return Object.keys(e).forEach(function(r){var o=e[r],i=o.show(t.id);n.push(i)}),r.all(n)},o.prototype.getId=function(){return this.id},o.prototype.getSurfaceContent=function(){},o.prototype.getTitle=function(){return this.title},o.prototype.load=function(){return r.resolve()},o.prototype.makeId_=function(e){return"screen_"+e},o.prototype.setId=function(e){this.id=e},o.prototype.setTitle=function(e){this.title=e},o.prototype.toString=function(){return this.id},o}(n);o.isImplementedBy=function(e){return e instanceof o},this.Library.Screen=o}.call(this),function(){var e=this.Library.globals,t=this.LibraryNamed.metal.core,n=this.LibraryNamed.metal.Disposable,r=this.Library.dom,o=this.Library.Promise,i=function(n){function i(e){babelHelpers.classCallCheck(this,i);var t=babelHelpers.possibleConstructorReturn(this,n.call(this));if(!e)throw new Error("Surface element id not specified. A surface element requires a valid id.");return t.activeChild=null,t.defaultChild=null,t.element=null,t.id=e,t.transitionFn=null,t.defaultChild=t.getChild(i.DEFAULT),t.maybeWrapContentAsDefault_(),t.activeChild=t.defaultChild,t}return babelHelpers.inherits(i,n),i.prototype.addContent=function(e,n){var o=this.defaultChild;t.isDefAndNotNull(n)&&(o=this.getChild(e),o?r.removeChildren(o):(o=this.createChild(e),this.transition(o,null)),r.append(o,n));var i=this.getElement();return i&&o&&r.append(i,o),o},i.prototype.createChild=function(t){var n=e.document.createElement("div");return n.setAttribute("id",this.makeId_(t)),n},i.prototype.getChild=function(t){return e.document.getElementById(this.makeId_(t))},i.prototype.getElement=function(){return this.element?this.element:(this.element=e.document.getElementById(this.id),this.element)},i.prototype.getId=function(){return this.id},i.prototype.getTransitionFn=function(){return this.transitionFn},i.prototype.makeId_=function(e){return this.id+"-"+e},i.prototype.maybeWrapContentAsDefault_=function(){var t=this.getElement();if(t&&!this.defaultChild){for(var n=e.document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);this.defaultChild=this.addContent(i.DEFAULT,n),this.transition(null,this.defaultChild)}},i.prototype.setId=function(e){this.id=e},i.prototype.setTransitionFn=function(e){this.transitionFn=e},i.prototype.show=function(e){var t=this.activeChild,n=this.getChild(e);return n||(n=this.defaultChild),this.activeChild=n,this.transition(t,n).thenAlways(function(){t&&t!==n&&r.exitDocument(t)})},i.prototype.remove=function(e){var t=this.getChild(e);t&&r.exitDocument(t)},i.prototype.toString=function(){return this.id},i.prototype.transition=function(e,t){var n=this.transitionFn||i.defaultTransition;return o.resolve(n.call(this,e,t))},i}(n);i.DEFAULT="default",i.defaultTransition=function(e,t){e&&(e.style.display="none",e.classList.remove("flipped")),t&&(t.style.display="block",t.classList.add("flipped"))},this.Library.Surface=i}.call(this),function(){var e=this.LibraryNamed.metal.array,t=this.LibraryNamed.metal.async,n=this.LibraryNamed.metal.core,r=this.Library.debounce,o=this.Library.dom,i=this.Library.Promise,a=this.LibraryNamed.events.EventEmitter,s=this.LibraryNamed.events.EventHandler,l=this.Library.utils,c=this.Library.globals,u=this.Library.Route,d=this.Library.Screen,g=this.Library.Surface,h=this.Library.Uri,p=function(a){function p(){babelHelpers.classCallCheck(this,p);var e=babelHelpers.possibleConstructorReturn(this,a.call(this));return e.activeScreen=null,e.activePath=null,e.allowPreventNavigate=!0,e.basePath="",e.captureScrollPositionFromScrollEvent=!0,e.defaultTitle=c.document.title,e.formSelector='form[enctype="multipart/form-data"]:not([data-senna-off])',e.linkSelector="a:not([data-senna-off])",e.loadingCssClass="senna-loading",e.nativeScrollRestorationSupported="scrollRestoration"in c.window.history,e.pendingNavigate=null,e.popstateScrollLeft=0,e.popstateScrollTop=0,e.redirectPath=null,e.routes=[],e.screens={},e.skipLoadPopstate=!1,e.surfaces={},e.updateScrollPosition=!0,e.appEventHandlers_=new s,e.appEventHandlers_.add(o.on(c.window,"scroll",r(e.onScroll_.bind(e),100)),o.on(c.window,"load",e.onLoad_.bind(e)),o.on(c.window,"popstate",e.onPopstate_.bind(e))),e.on("startNavigate",e.onStartNavigate_),e.on("beforeNavigate",e.onBeforeNavigate_),e.on("beforeNavigate",e.onBeforeNavigateDefault_,!0),e.setLinkSelector(e.linkSelector),e.setFormSelector(e.formSelector),e}return babelHelpers.inherits(p,a),p.prototype.addRoutes=function(e){var t=this;return Array.isArray(e)||(e=[e]),e.forEach(function(e){e instanceof u||(e=new u(e.path,e.handler)),t.routes.push(e)}),this},p.prototype.addSurfaces=function(e){var t=this;return Array.isArray(e)||(e=[e]),e.forEach(function(e){n.isString(e)&&(e=new g(e)),t.surfaces[e.getId()]=e}),this},p.prototype.canNavigate=function(e){var t=l.getUrlPath(e),n=new h(e);return!!this.isLinkSameOrigin_(n.getHostname())&&(!!this.isSameBasePath_(t)&&!!this.findRoute(t))},p.prototype.clearScreensCache=function(){var e=this;Object.keys(this.screens).forEach(function(t){t===e.activePath?e.activeScreen.clearCache():e.removeScreen(t)})},p.prototype.createScreenInstance=function(e,t){if(!this.pendingNavigate&&e===this.activePath)return this.activeScreen;var n=this.screens[e];if(!n){var r=t.getHandler();n=r===d||d.isImplementedBy(r.prototype)?new r:r(t)||new d}return n},p.prototype.disposeInternal=function(){this.activeScreen&&this.removeScreen(this.activePath),this.clearScreensCache(),this.formEventHandler_.removeListener(),this.linkEventHandler_.removeListener(),this.appEventHandlers_.removeAllListeners(),a.prototype.disposeInternal.call(this)},p.prototype.dispatch=function(){return this.navigate(l.getCurrentBrowserPath(),!0)},p.prototype.doNavigate_=function(e,t){var n=this;if(this.activeScreen&&this.activeScreen.beforeDeactivate())return this.pendingNavigate=i.reject(new i.CancellationError("Cancelled by active screen")),this.pendingNavigate;var r=this.findRoute(e);if(!r)return this.pendingNavigate=i.reject(new i.CancellationError("No route for "+e)),this.pendingNavigate;this.stopPendingNavigate_();var o=this.createScreenInstance(e,r);return o.load(e).then(function(){n.activeScreen&&n.activeScreen.deactivate(),n.prepareNavigateHistory_(e,o,t),n.prepareNavigateSurfaces_(o,n.surfaces)}).then(function(){return o.evaluateStyles(n.surfaces)}).then(function(){return o.flip(n.surfaces)}).then(function(){return o.evaluateScripts(n.surfaces)}).then(function(){return n.syncScrollPositionSyncThenAsync_()}).then(function(){return n.finalizeNavigate_(e,o)})["catch"](function(t){throw n.handleNavigateError_(e,o,t),t})},p.prototype.finalizeNavigate_=function(e,t){t.activate(),this.activeScreen&&!this.activeScreen.isCacheable()&&this.activeScreen!==t&&this.removeScreen(this.activePath),this.activePath=e,this.activeScreen=t,this.screens[e]=t,this.pendingNavigate=null,c.capturedFormElement=null},p.prototype.findRoute=function(e){if(e.lastIndexOf("#")>-1&&l.isCurrentBrowserPath(e))return null;e=l.getUrlPathWithoutHash(e),e=l.getUrlPathWithoutHash(e.substr(this.basePath.length));for(var t=0;t<this.routes.length;t++){var n=this.routes[t];if(n.matchesPath(e))return n}return null},p.prototype.getAllowPreventNavigate=function(){return this.allowPreventNavigate},p.prototype.getBasePath=function(){return this.basePath},p.prototype.getDefaultTitle=function(){return this.defaultTitle},p.prototype.getFormSelector=function(){return this.formSelector},p.prototype.getLinkSelector=function(){return this.linkSelector},p.prototype.getLoadingCssClass=function(){return this.loadingCssClass},p.prototype.getUpdateScrollPosition=function(){return this.updateScrollPosition},p.prototype.handleNavigateError_=function(e,t,n){l.isCurrentBrowserPath(e)||this.removeScreen(e)},p.prototype.hasRoutes=function(){return this.routes.length>0},p.prototype.isLinkSameOrigin_=function(e){return e===c.window.location.hostname},p.prototype.isSameBasePath_=function(e){return 0===e.indexOf(this.basePath)},p.prototype.lockHistoryScrollPosition_=function(){var e=c.window.history.state;if(e){var n=!1,r=function o(){c.document.removeEventListener("scroll",o,!1),n||(c.window.scrollTo(e.scrollLeft,e.scrollTop),n=!0)};t.nextTick(r),c.document.addEventListener("scroll",r,!1)}},p.prototype.maybeDisableNativeScrollRestoration=function(){this.nativeScrollRestorationSupported&&(this.nativeScrollRestoration_=c.window.history.scrollRestoration,c.window.history.scrollRestoration="manual")},p.prototype.maybeNavigate_=function(e,t){if(this.canNavigate(e)){c.capturedFormElement=t.capturedFormElement;var n=!1;try{this.navigate(l.getUrlPath(e))}catch(r){n=!0}n||t.preventDefault()}},p.prototype.maybeRepositionScrollToHashedAnchor=function(){var e=c.window.location.hash;if(e){var t=c.document.getElementById(e.substring(1));t&&c.window.scrollTo(t.offsetLeft,t.offsetTop)}},p.prototype.maybeRestoreNativeScrollRestoration=function(){this.nativeScrollRestorationSupported&&this.nativeScrollRestoration_&&(c.window.history.scrollRestoration=this.nativeScrollRestoration_)},p.prototype.navigate=function(e,t){if(!l.isHtml5HistorySupported())throw new Error("HTML5 History is not supported. Senna will not intercept navigation.");return e===this.activePath&&(t=!0),this.emit("beforeNavigate",{path:e,replaceHistory:!!t}),this.pendingNavigate},p.prototype.onBeforeNavigate_=function(e){c.capturedFormElement&&(e.form=c.capturedFormElement)},p.prototype.onBeforeNavigateDefault_=function(e){this.pendingNavigate&&this.pendingNavigate.path===e.path||this.emit("startNavigate",{form:e.form,path:e.path,replaceHistory:e.replaceHistory})},p.prototype.onDocClickDelegate_=function(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.button||this.maybeNavigate_(e.delegateTarget.href,e)},p.prototype.onDocSubmitDelegate_=function(e){var t=e.delegateTarget;"get"!==t.method&&(e.capturedFormElement=t,this.maybeNavigate_(t.action,e))},p.prototype.onLoad_=function(){var e=this;this.skipLoadPopstate=!0,setTimeout(function(){e.skipLoadPopstate=!1},0),this.maybeRepositionScrollToHashedAnchor()},p.prototype.onPopstate_=function(e){if(!this.skipLoadPopstate){var t=e.state;return t?void(t.senna&&(this.popstateScrollTop=t.scrollTop,this.popstateScrollLeft=t.scrollLeft,this.nativeScrollRestorationSupported||this.lockHistoryScrollPosition_(),this.navigate(t.path,!0))):void(c.window.location.hash?(this.redirectPath&&!l.isCurrentBrowserPath(this.redirectPath)&&this.reloadPage(),this.maybeRepositionScrollToHashedAnchor()):this.reloadPage())}},p.prototype.onScroll_=function(){this.captureScrollPositionFromScrollEvent&&this.saveHistoryCurrentPageScrollPosition_()},p.prototype.onStartNavigate_=function(e){var t=this;this.maybeDisableNativeScrollRestoration(),this.captureScrollPositionFromScrollEvent=!1,o.addClasses(c.document.documentElement,this.loadingCssClass);var n={form:e.form,path:e.path};this.pendingNavigate=this.doNavigate_(e.path,e.replaceHistory)["catch"](function(e){throw n.error=e,e}).thenAlways(function(){t.pendingNavigate||(o.removeClasses(c.document.documentElement,t.loadingCssClass),t.maybeRestoreNativeScrollRestoration(),t.captureScrollPositionFromScrollEvent=!0),t.emit("endNavigate",n)}),this.pendingNavigate.path=e.path},p.prototype.prefetch=function(e){var t=this,n=this.findRoute(e);if(!n)return i.reject(new i.CancellationError("No route for "+e));var r=this.createScreenInstance(e,n);return r.load(e).then(function(){return t.screens[e]=r})["catch"](function(n){throw t.handleNavigateError_(e,r,n),n})},p.prototype.prepareNavigateHistory_=function(e,t,r){var o=t.getTitle();n.isString(o)||(o=this.getDefaultTitle());var i=t.beforeUpdateHistoryPath(e),a={form:n.isDefAndNotNull(c.capturedFormElement),redirectPath:i,path:e,senna:!0,scrollTop:0,scrollLeft:0};r&&(a.scrollTop=this.popstateScrollTop,a.scrollLeft=this.popstateScrollLeft),this.updateHistory_(o,i,t.beforeUpdateHistoryState(a),r),this.redirectPath=i},p.prototype.prepareNavigateSurfaces_=function(e,t){Object.keys(t).forEach(function(n){var r=e.getSurfaceContent(n);t[n].addContent(e.getId(),r)})},p.prototype.reloadPage=function(){c.window.location.reload()},p.prototype.removeRoute=function(t){return e.remove(this.routes,t)},p.prototype.removeScreen=function(e){var t=this,n=this.screens[e];n&&(Object.keys(this.surfaces).forEach(function(e){return t.surfaces[e].remove(n.getId())}),n.dispose(),delete this.screens[e])},p.prototype.saveHistoryCurrentPageScrollPosition_=function(){var e=c.window.history.state;e&&e.senna&&(e.scrollTop=c.window.pageYOffset,e.scrollLeft=c.window.pageXOffset,c.window.history.replaceState(e,null,null))},p.prototype.setAllowPreventNavigate=function(e){this.allowPreventNavigate=e},p.prototype.setBasePath=function(e){this.basePath=e},p.prototype.setDefaultTitle=function(e){this.defaultTitle=e},p.prototype.setFormSelector=function(e){this.formSelector=e,this.formEventHandler_&&this.formEventHandler_.removeListener(),this.formEventHandler_=o.delegate(document,"submit",this.formSelector,this.onDocSubmitDelegate_.bind(this),this.allowPreventNavigate)},p.prototype.setLinkSelector=function(e){this.linkSelector=e,this.linkEventHandler_&&this.linkEventHandler_.removeListener(),this.linkEventHandler_=o.delegate(document,"click",this.linkSelector,this.onDocClickDelegate_.bind(this),this.allowPreventNavigate)},p.prototype.setLoadingCssClass=function(e){this.loadingCssClass=e},p.prototype.setUpdateScrollPosition=function(e){this.updateScrollPosition=e},p.prototype.stopPendingNavigate_=function(){this.pendingNavigate&&(this.pendingNavigate.cancel("Cancel pending navigation"),this.pendingNavigate=null)},p.prototype.syncScrollPositionSyncThenAsync_=function(){var e=this,n=c.window.history.state;if(n){var r=n.scrollTop,o=n.scrollLeft,a=function(){e.updateScrollPosition&&c.window.scrollTo(o,r)};return new i(function(e){return a()&t.nextTick(function(){return a()&e()})})}},p.prototype.updateHistory_=function(e,t,n,r){r?c.window.history.replaceState(n,e,t):c.window.history.pushState(n,e,t),c.document.title=e},p}(a);this.Library.App=p}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.Library.Uri,n=this.LibraryNamed.Promise.CancellablePromise,r=function(){function r(){babelHelpers.classCallCheck(this,r)}return r.parseResponseHeaders=function(e){var t=[];if(!e)return t;for(var n=e.split("\r\n"),r=0;r<n.length;r++){var o=n[r].indexOf(": ");if(o>0){var i=n[r].substring(0,o),a=n[r].substring(o+2);t.push({name:i,value:a})}}return t},r.request=function o(r,i,a,s,l,c,u,d){var o=new XMLHttpRequest,g=new n(function(e,t){o.onload=function(){return o.aborted?void o.onerror():void e(o)},o.onerror=function(){var e=new Error("Request error");e.request=o,t(e)}}).thenCatch(function(e){throw o.abort(),e}).thenAlways(function(){clearTimeout(h)});if(l&&(r=new t(r).addParametersFromMultiMap(l).toString()),o.open(i,r,!u),d&&(o.withCredentials=!0),s&&s.names().forEach(function(e){o.setRequestHeader(e,s.getAll(e).join(", "))}),o.send(e.isDef(a)?a:null),e.isDefAndNotNull(c))var h=setTimeout(function(){g.cancel("Request timeout")},c);return g},r}();this.Library.Ajax=r}.call(this),function(){var e=function t(){babelHelpers.classCallCheck(this,t)};e.INVALID_STATUS="Invalid status code",e.REQUEST_ERROR="Request error",e.REQUEST_TIMEOUT="Request timeout",this.Library.errors=e}.call(this),function(){var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.getNativeUserAgent=function(){var t=e.globals.window.navigator;if(t){var n=t.userAgent;if(n)return n}return""},e.matchUserAgent=function(t){return e.userAgent.indexOf(t)!==-1},e.testUserAgent=function(t){e.userAgent=t,e.isOpera=e.matchUserAgent("Opera")||e.matchUserAgent("OPR"),e.isIe=e.matchUserAgent("Trident")||e.matchUserAgent("MSIE"),e.isEdge=e.matchUserAgent("Edge"),e.isIeOrEdge=e.isIe||e.isEdge,e.isChrome=(e.matchUserAgent("Chrome")||e.matchUserAgent("CriOS"))&&!e.isOpera&&!e.isEdge,e.isSafari=e.matchUserAgent("Safari")&&!(e.isChrome||e.isOpera||e.isEdge),e.isFirefox=e.matchUserAgent("Firefox")},e}();e.globals={window:window},e.testUserAgent(e.getNativeUserAgent()),this.Library.UA=e}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.Library.Ajax,n=this.Library.MultiMap,r=this.Library.Promise,o=this.Library.errors,i=this.Library.utils,a=this.Library.globals,s=this.Library.Screen,l=this.Library.Uri,c=this.Library.UA,u=function(s){function u(){babelHelpers.classCallCheck(this,u);var e=babelHelpers.possibleConstructorReturn(this,s.call(this));return e.cacheable=!0,e.httpHeaders={"X-PJAX":"true","X-Requested-With":"XMLHttpRequest"},e.httpMethod=u.GET,e.request=null,e.timeout=3e4,e}return babelHelpers.inherits(u,s),u.prototype.assertValidResponseStatusCode=function(e){if(!this.isValidResponseStatusCode(e)){var t=new Error(o.INVALID_STATUS);throw t.invalidStatus=!0,t}},u.prototype.beforeUpdateHistoryPath=function(e){var t=this.getRequestPath();return t&&t!==e?t:e},u.prototype.beforeUpdateHistoryState=function(e){return e.senna&&e.form&&e.redirectPath===e.path?null:e},u.prototype.formatLoadPath=function(e){var t=new l(e);return t.setHostname(a.window.location.hostname),t.setProtocol(a.window.location.protocol),a.window.location.port&&t.setPort(a.window.location.port),c.isIeOrEdge&&this.httpMethod===u.GET?t.makeUnique().toString():t.toString()},u.prototype.getHttpHeaders=function(){return this.httpHeaders},u.prototype.getHttpMethod=function(){return this.httpMethod},u.prototype.getRequestPath=function(){var e=this.getRequest();if(e){var t=e.requestPath,n=this.maybeExtractResponseUrlFromRequest(e);return n&&(t=n),c.isIeOrEdge&&this.httpMethod===u.GET&&(t=new l(t).removeUnique().toString()),i.getUrlPath(t)}return null},u.prototype.getRequest=function(){return this.request},u.prototype.getTimeout=function(){return this.timeout},u.prototype.isValidResponseStatusCode=function(e){return e>=200&&e<=399},u.prototype.load=function(i){var s=this,l=this.getCache();if(e.isDefAndNotNull(l))return r.resolve(l);var d=null,g=this.httpMethod,h=new n;Object.keys(this.httpHeaders).forEach(function(e){return h.add(e,s.httpHeaders[e])}),a.capturedFormElement&&(d=new FormData(a.capturedFormElement),g=u.POST,c.isIeOrEdge&&h.add("If-None-Match",'"0"'));var p=this.formatLoadPath(i);return t.request(p,g,d,h,null,this.timeout).then(function(e){return s.setRequest(e),s.assertValidResponseStatusCode(e.status),g===u.GET&&s.isCacheable()&&s.addCache(e.responseText),e.requestPath=p,e.responseText})["catch"](function(e){switch(e.message){case o.REQUEST_TIMEOUT:e.timeout=!0;break;case o.REQUEST_ERROR:e.requestError=!0}throw e})},u.prototype.maybeExtractResponseUrlFromRequest=function(e){var t=e.responseURL;return t?t:e.getResponseHeader(u.X_REQUEST_URL_HEADER)},u.prototype.setHttpHeaders=function(e){this.httpHeaders=e},u.prototype.setHttpMethod=function(e){this.httpMethod=e.toLowerCase()},u.prototype.setRequest=function(e){this.request=e},u.prototype.setTimeout=function(e){this.timeout=e},u}(s);u.GET="get",u.POST="post",u.X_REQUEST_URL_HEADER="X-Request-URL",this.Library.RequestScreen=u}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.LibraryNamed.dom.dom,n=this.LibraryNamed.dom.globalEval,r=this.LibraryNamed.dom.globalEvalStyles,o=this.Library.Promise,i=this.Library.globals,a=this.Library.RequestScreen,s=this.Library.Surface,l=this.Library.UA,c=this.Library.Uri,u=this.Library.utils,d=function(a){function d(){babelHelpers.classCallCheck(this,d);var e=babelHelpers.possibleConstructorReturn(this,a.call(this));return e.titleSelector="title",e}return babelHelpers.inherits(d,a),d.prototype.activate=function(){a.prototype.activate.call(this),this.releaseVirtualDocument(),this.pendingStyles=null},d.prototype.allocateVirtualDocumentForContent=function(e){this.virtualDocument||(this.virtualDocument=i.document.createElement("html")),this.copyNodeAttributesFromContent_(e,this.virtualDocument),this.virtualDocument.innerHTML=e},d.prototype.appendStyleIntoDocument_=function(e){var n=t.match(e,d.selectors.stylesTemporary);if(n&&this.pendingStyles.push(e),e.id){var r=i.document.getElementById(e.id);if(r)return void r.parentNode.insertBefore(e,r.nextSibling)}i.document.head.appendChild(e)},d.prototype.assertSameBodyIdInVirtualDocument=function(){var t=this.virtualDocument.querySelector("body");i.document.body.id||(i.document.body.id="senna_surface_"+e.getUid()),t&&(t.id=i.document.body.id)},d.prototype.copyNodeAttributesFromContent_=function(e,t){e=e.replace(/[<]\s*html/gi,"<senna"),e=e.replace(/\/html\s*\>/gi,"/senna>"),t.innerHTML=e;var n=t.querySelector("senna");n&&(u.clearNodeAttributes(t),u.copyNodeAttributes(n,t))},d.prototype.disposeInternal=function(){this.disposePendingStyles(),a.prototype.disposeInternal.call(this)},d.prototype.disposePendingStyles=function(){this.pendingStyles&&this.pendingStyles.forEach(function(e){return t.exitDocument(e)})},d.prototype.evaluateScripts=function(e){var t=this,r=this.evaluateTrackedResources_(n.runScriptsInElement,d.selectors.scripts,d.selectors.scriptsTemporary,d.selectors.scriptsPermanent);return r.then(function(){return a.prototype.evaluateScripts.call(t,e)})},d.prototype.evaluateStyles=function(e){var t=this;
this.pendingStyles=[];var n=this.evaluateTrackedResources_(r.runStylesInElement,d.selectors.styles,d.selectors.stylesTemporary,d.selectors.stylesPermanent,this.appendStyleIntoDocument_.bind(this));return n.then(function(){return a.prototype.evaluateStyles.call(t,e)})},d.prototype.evaluateTrackedResources_=function(e,n,r,i,a){var s=this,l=this.virtualQuerySelectorAll_(n),c=this.querySelectorAll_(r),u=this.querySelectorAll_(i);u.forEach(function(e){var t=s.getResourceKey_(e);t&&(d.permanentResourcesInDoc[t]=!0)});var g=t.buildFragment();return l.forEach(function(e){var n=s.getResourceKey_(e);d.permanentResourcesInDoc[n]||g.appendChild(e),n&&t.match(e,i)&&(d.permanentResourcesInDoc[n]=!0)}),new o(function(n){e(g,function(){c.forEach(function(e){return t.exitDocument(e)}),n()},a)})},d.prototype.flip=function(e){var t=this;return a.prototype.flip.call(this,e).then(function(){u.clearNodeAttributes(document.documentElement),u.copyNodeAttributes(t.virtualDocument,document.documentElement)})},d.prototype.getResourceKey_=function(e){return e.id||e.href||e.src||""},d.prototype.getSurfaceContent=function(e){var t=this.virtualDocument.querySelector("#"+e);if(t){var n=t.querySelector("#"+e+"-"+s.DEFAULT);return n?n.innerHTML:t.innerHTML}},d.prototype.getTitleSelector=function(){return this.titleSelector},d.prototype.load=function(e){var t=this;return a.prototype.load.call(this,e).then(function(e){return t.allocateVirtualDocumentForContent(e),t.resolveTitleFromVirtualDocument(),t.assertSameBodyIdInVirtualDocument(),l.isIe&&t.makeTemporaryStylesHrefsUnique_(),e})},d.prototype.makeTemporaryStylesHrefsUnique_=function(){var e=this,t=this.virtualQuerySelectorAll_(d.selectors.stylesTemporary);t.forEach(function(t){return e.replaceStyleAndMakeUnique_(t)})},d.prototype.replaceStyleAndMakeUnique_=function(e){if(e.href){var t=i.document.createElement(e.tagName);e.href=new c(e.href).makeUnique().toString(),u.copyNodeAttributes(e,t),e.parentNode.replaceChild(t,e),e.disabled=!0}},d.prototype.virtualQuerySelectorAll_=function(e){return Array.prototype.slice.call(this.virtualDocument.querySelectorAll(e))},d.prototype.querySelectorAll_=function(e){return Array.prototype.slice.call(i.document.querySelectorAll(e))},d.prototype.releaseVirtualDocument=function(){this.virtualDocument=null},d.prototype.resolveTitleFromVirtualDocument=function(){var e=this.virtualDocument.querySelector(this.titleSelector);e&&this.setTitle(e.innerHTML.trim())},d.prototype.setTitleSelector=function(e){this.titleSelector=e},d}(a);d.selectors={scripts:"script[data-senna-track]",scriptsPermanent:'script[data-senna-track="permanent"]',scriptsTemporary:'script[data-senna-track="temporary"]',styles:"style[data-senna-track],link[data-senna-track]",stylesPermanent:'style[data-senna-track="permanent"],link[data-senna-track="permanent"]',stylesTemporary:'style[data-senna-track="temporary"],link[data-senna-track="temporary"]'},d.permanentResourcesInDoc={},this.Library.HtmlScreen=d}.call(this),function(){var e=this.Library.App,t=this.Library.HtmlScreen,n=this.Library.RequestScreen,r=this.Library.Route,o=this.Library.Screen;this.Library.senna=e,this.LibraryNamed.senna=this.LibraryNamed.senna||{},this.LibraryNamed.senna.App=e,this.LibraryNamed.senna.HtmlScreen=t,this.LibraryNamed.senna.Route=r,this.LibraryNamed.senna.RequestScreen=n,this.LibraryNamed.senna.Screen=o}.call(this),function(){var e=this.LibraryNamed.events.EventEmitter,t=this.LibraryNamed.events.EventHandler,n=function(e){function n(r){babelHelpers.classCallCheck(this,n);var o=babelHelpers.possibleConstructorReturn(this,e.call(this));return o.component_=r,o.componentRendererEvents_=new t,o.componentRendererEvents_.add(o.component_.once("render",o.render.bind(o))),o.on("rendered",o.handleRendered_),o.component_.constructor.SYNC_UPDATES_MERGED?o.componentRendererEvents_.add(o.component_.on("stateKeyChanged",o.handleComponentRendererStateKeyChanged_.bind(o))):o.componentRendererEvents_.add(o.component_.on("stateChanged",o.handleComponentRendererStateChanged_.bind(o))),o}return babelHelpers.inherits(n,e),n.prototype.disposeInternal=function(){this.componentRendererEvents_.removeAllListeners(),this.componentRendererEvents_=null},n.prototype.handleComponentRendererStateChanged_=function(e){this.shouldRerender_(e)&&this.update(e)},n.prototype.handleComponentRendererStateKeyChanged_=function(e){var t={changes:babelHelpers.defineProperty({},e.key,e)};this.shouldRerender_(t)&&this.update(t)},n.prototype.handleRendered_=function(){this.isRendered_=!0},n.prototype.hasChangedBesidesElement_=function(e){var t=Object.keys(e).length;return e.hasOwnProperty("element")&&t--,t>0},n.prototype.render=function(){this.component_.element||(this.component_.element=document.createElement("div")),this.emit("rendered",!this.isRendered_)},n.prototype.shouldRerender_=function(e){return this.isRendered_&&!this.skipUpdates_&&this.hasChangedBesidesElement_(e.changes)},n.prototype.startSkipUpdates=function(){this.skipUpdates_=!0},n.prototype.stopSkipUpdates=function(){this.skipUpdates_=!1},n.prototype.update=function(){},n}(e);this.Library.ComponentRenderer=n}.call(this),function(){var e=this.LibraryNamed.metal.array,t=this.LibraryNamed.metal.async,n=this.LibraryNamed.metal.core,r=this.LibraryNamed.metal.object,o=this.LibraryNamed.events.EventEmitter,i=function(o){function i(e){babelHelpers.classCallCheck(this,i);var t=babelHelpers.possibleConstructorReturn(this,o.call(this));return t.scheduledBatchData_=null,t.stateInfo_={},t.setShouldUseFacade(!0),t.mergeInvalidKeys_(),t.addToStateFromStaticHint_(e),t}return babelHelpers.inherits(i,o),i.prototype.addKeyToState=function(e,t,n){this.buildKeyInfo_(e,t,n),Object.defineProperty(this,e,this.buildKeyPropertyDef_(e))},i.prototype.addToState=function(e,t,r){if(n.isString(e))return this.addKeyToState(e,t,r);for(var o=t||{},i=Object.keys(e),a={},s=0;s<i.length;s++){var l=i[s];this.buildKeyInfo_(l,e[l],o[l]),a[l]=this.buildKeyPropertyDef_(l)}r!==!1&&Object.defineProperties(r||this,a)},i.prototype.addToStateFromStaticHint_=function(e){var t=this.constructor,n=!1;i.mergeStateStatic(t)&&(n=t.prototype),this.addToState(t.STATE_MERGED,e,n)},i.prototype.assertValidStateKeyName_=function(e){if(this.constructor.INVALID_KEYS_MERGED[e])throw new Error("It's not allowed to create a state key with the name \""+e+'".')},i.prototype.buildKeyInfo_=function(e,t,n){this.assertValidStateKeyName_(e),this.stateInfo_[e]={config:t||{},initialValue:n,state:i.KeyStates.UNINITIALIZED}},i.prototype.buildKeyPropertyDef_=function(e){return{configurable:!0,enumerable:!0,get:function(){return this.getStateKeyValue_(e)},set:function(t){this.setStateKeyValue_(e,t)}}},i.prototype.callFunction_=function(e,t){return n.isString(e)?this[e].apply(this,t):n.isFunction(e)?e.apply(this,t):void 0},i.prototype.callSetter_=function(e,t,n){var r=this.stateInfo_[e],o=r.config;return o.setter&&(t=this.callFunction_(o.setter,[t,n])),t},i.prototype.callValidator_=function(e,t){var n=this.stateInfo_[e],r=n.config;if(r.validator){var o=this.callFunction_(r.validator,[t,e,this]);return o instanceof Error,o}return!0},i.prototype.canSetState=function(e){var t=this.stateInfo_[e];return!t.config.writeOnce||!t.written},i.prototype.disposeInternal=function(){o.prototype.disposeInternal.call(this),this.stateInfo_=null,this.scheduledBatchData_=null},i.prototype.emitBatchEvent_=function(){if(!this.isDisposed()){var e=this.scheduledBatchData_;this.scheduledBatchData_=null,this.emit("stateChanged",e)}},i.prototype.get=function(e){return this[e]},i.prototype.getState=function(e){for(var t={},n=e||this.getStateKeys(),r=0;r<n.length;r++)t[n[r]]=this[n[r]];return t},i.prototype.getStateKeyConfig=function(e){return(this.stateInfo_[e]||{}).config},i.prototype.getStateKeys=function(){return Object.keys(this.stateInfo_)},i.prototype.getStateKeyValue_=function(e){return this.initStateKey_(e),this.stateInfo_[e].value},i.prototype.hasBeenSet=function(e){var t=this.stateInfo_[e];return t.state===i.KeyStates.INITIALIZED||t.initialValue},i.prototype.hasStateKey=function(e){return!!this.stateInfo_[e]},i.prototype.informChange_=function(e,t){if(this.shouldInformChange_(e,t)){var n={key:e,newVal:this[e],prevVal:t};this.emit(e+"Changed",n),this.emit("stateKeyChanged",n),this.scheduleBatchEvent_(n)}},i.prototype.initStateKey_=function(e){var t=this.stateInfo_[e];t.state===i.KeyStates.UNINITIALIZED&&(t.state=i.KeyStates.INITIALIZING,this.setInitialValue_(e),t.written||(t.state=i.KeyStates.INITIALIZING_DEFAULT,this.setDefaultValue_(e)),t.state=i.KeyStates.INITIALIZED)},i.mergeState_=function(e){return r.mixin.apply(null,[{}].concat(e.reverse()))},i.mergeStateStatic=function(e){return n.mergeSuperClassesProperty(e,"STATE",i.mergeState_)},i.prototype.mergeInvalidKeys_=function(){n.mergeSuperClassesProperty(this.constructor,"INVALID_KEYS",function(t){return e.flatten(t).reduce(function(e,t){return t&&(e[t]=!0),e},{})})},i.prototype.removeStateKey=function(e){this.stateInfo_[e]=null,delete this[e]},i.prototype.scheduleBatchEvent_=function(e){this.scheduledBatchData_||(t.nextTick(this.emitBatchEvent_,this),this.scheduledBatchData_={changes:{}});var n=e.key,r=this.scheduledBatchData_.changes;r[n]?r[n].newVal=e.newVal:r[n]=e},i.prototype.set=function(e,t){this.hasStateKey(e)&&(this[e]=t)},i.prototype.setDefaultValue_=function(e){var t=this.stateInfo_[e].config;void 0!==t.value?this[e]=t.value:this[e]=this.callFunction_(t.valueFn)},i.prototype.setInitialValue_=function(e){var t=this.stateInfo_[e];void 0!==t.initialValue&&(this[e]=t.initialValue,t.initialValue=void 0)},i.prototype.setState=function(e,t){var n=this;Object.keys(e).forEach(function(t){return n.set(t,e[t])}),t&&this.scheduledBatchData_&&this.once("stateChanged",t)},i.prototype.setStateKeyValue_=function(e,t){if(this.canSetState(e)&&this.validateKeyValue_(e,t)){var n=this.stateInfo_[e];void 0===n.initialValue&&n.state===i.KeyStates.UNINITIALIZED&&(n.state=i.KeyStates.INITIALIZED);var r=this[e];n.value=this.callSetter_(e,t,r),n.written=!0,this.informChange_(e,r)}},i.prototype.shouldInformChange_=function(e,t){var r=this.stateInfo_[e];return r.state===i.KeyStates.INITIALIZED&&(n.isObject(t)||t!==this[e])},i.prototype.validateKeyValue_=function(e,t){var n=this.stateInfo_[e];return n.state===i.KeyStates.INITIALIZING_DEFAULT||this.callValidator_(e,t)},i}(o);i.INVALID_KEYS=["state","stateKey"],i.KeyStates={UNINITIALIZED:0,INITIALIZING:1,INITIALIZING_DEFAULT:2,INITIALIZED:3},this.Library.State=i}.call(this),function(){var e=this.LibraryNamed.metal.array,t=this.LibraryNamed.metal.core,n=this.LibraryNamed.metal.object,r=this.LibraryNamed.dom.dom,o=this.LibraryNamed.dom.DomEventEmitterProxy,i=this.Library.ComponentRenderer,a=this.LibraryNamed.events.EventHandler,s=this.Library.State,l=function(i){function s(n,r){babelHelpers.classCallCheck(this,s);var o=babelHelpers.possibleConstructorReturn(this,i.call(this,n));return o.attachedListeners_={},o.components={},o.elementEventProxy_=null,o.eventsStateKeyHandler_=new a,o.inDocument=!1,o.initialConfig_=n||{},o.wasRendered=!1,o.DEFAULT_ELEMENT_PARENT=document.body,t.mergeSuperClassesProperty(o.constructor,"ELEMENT_CLASSES",o.mergeElementClasses_),t.mergeSuperClassesProperty(o.constructor,"SYNC_UPDATES",e.firstDefinedValue),o.renderer_=o.createRenderer(),o.renderer_.on("rendered",o.rendered.bind(o)),o.on("stateChanged",o.handleStateChanged_),o.newListenerHandle_=o.on("newListener",o.handleNewListener_),o.on("eventsChanged",o.onEventsChanged_),o.addListenersFromObj_(o.events),o.created(),r!==!1&&o.render_(r),o.on("elementChanged",o.onElementChanged_),o}return babelHelpers.inherits(s,i),s.prototype.addElementClasses=function(){var e=this.constructor.ELEMENT_CLASSES_MERGED;this.elementClasses&&(e=e+" "+this.elementClasses),r.addClasses(this.element,e)},s.prototype.addListenersFromObj_=function(e){for(var t=Object.keys(e||{}),n=0;n<t.length;n++){var r=this.extractListenerInfo_(e[t[n]]);if(r.fn){var o;o=r.selector?this.delegate(t[n],r.selector,r.fn):this.on(t[n],r.fn),this.eventsStateKeyHandler_.add(o)}}},s.prototype.attach=function(e,t){return this.inDocument||(this.renderElement_(e,t),this.inDocument=!0,this.emit("attached",{parent:e,sibling:t}),this.attached()),this},s.prototype.attached=function(){},s.prototype.addSubComponent=function(e,t){this.components[e]=t},s.prototype.created=function(){},s.prototype.createRenderer=function(){return t.mergeSuperClassesProperty(this.constructor,"RENDERER",e.firstDefinedValue),new this.constructor.RENDERER_MERGED(this)},s.prototype.delegate=function(e,t,n){return this.on("delegate:"+e+":"+t,n)},s.prototype.detach=function(){return this.inDocument&&(this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.inDocument=!1,this.detached()),this.emit("detached"),this},s.prototype.detached=function(){},s.prototype.disposed=function(){},s.prototype.disposeInternal=function(){this.disposed(),this.detach(),this.elementEventProxy_&&(this.elementEventProxy_.dispose(),this.elementEventProxy_=null),this.disposeSubComponents(Object.keys(this.components)),this.components=null,this.renderer_.dispose(),this.renderer_=null,i.prototype.disposeInternal.call(this)},s.prototype.disposeSubComponents=function(e){for(var t=0;t<e.length;t++){var n=this.components[e[t]];n&&!n.isDisposed()&&(n.element=null,n.dispose(),delete this.components[e[t]])}},s.prototype.extractListenerInfo_=function(e){var n={fn:e};return t.isObject(e)&&!t.isFunction(e)&&(n.selector=e.selector,n.fn=e.fn),t.isString(n.fn)&&(n.fn=this.getListenerFn(n.fn)),n},s.prototype.getInitialConfig=function(){return this.initialConfig_},s.prototype.getListenerFn=function(e){if(t.isFunction(this[e]))return this[e].bind(this)},s.prototype.fireStateKeyChange_=function(e,n){var r=this["sync"+e.charAt(0).toUpperCase()+e.slice(1)];t.isFunction(r)&&(n||(n={newVal:this[e],prevVal:void 0}),r.call(this,n.newVal,n.prevVal))},s.prototype.getRenderer=function(){return this.renderer_},s.prototype.handleStateChanged_=function(e){this.syncStateFromChanges_(e.changes),this.emit("stateSynced",e)},s.prototype.handleNewListener_=function(e){this.attachedListeners_[e]=!0},s.isComponentCtor=function(e){return e.prototype&&e.prototype[s.COMPONENT_FLAG]},s.prototype.mergeElementClasses_=function(e){var t={};return e.filter(function(e){return!(!e||t[e])&&(t[e]=!0,!0)}).join(" ")},s.prototype.onElementChanged_=function(e){e.prevVal!==e.newVal&&(this.setUpProxy_(),this.elementEventProxy_.setOriginEmitter(e.newVal),e.newVal&&(this.addElementClasses(),this.syncVisible(this.visible)))},s.prototype.onEventsChanged_=function(e){this.eventsStateKeyHandler_.removeAllListeners(),this.addListenersFromObj_(e.newVal)},s.render=function(e,n,r){var o=n,i=r;t.isElement(n)&&(o=null,i=n);var a=new e(o,(!1));return a.render_(i),a},s.prototype.render_=function(e,t){t||this.emit("render"),this.setUpProxy_(),this.syncState_(),this.attach(e),this.wasRendered=!0},s.prototype.renderAsSubComponent=function(){this.render_(null,!0)},s.prototype.renderElement_=function(e,t){var n=this.element;if(n&&(t||!n.parentNode)){var o=r.toElement(e)||this.DEFAULT_ELEMENT_PARENT;o.insertBefore(n,r.toElement(t))}},s.prototype.setterElementFn_=function(e,t){var n=e;return n&&(n=r.toElement(e)||t),n},s.prototype.setUpProxy_=function(){if(!this.elementEventProxy_){var e=new o(this.element,this);this.elementEventProxy_=e,n.map(this.attachedListeners_,e.proxyEvent.bind(e)),this.attachedListeners_=null,this.newListenerHandle_.removeListener(),this.newListenerHandle_=null}},s.prototype.syncState_=function(){for(var e=this.getStateKeys(),t=0;t<e.length;t++)this.fireStateKeyChange_(e[t])},s.prototype.syncStateFromChanges_=function(e){for(var t in e)this.fireStateKeyChange_(t,e[t])},s.prototype.syncElementClasses=function(e,t){this.element&&t&&r.removeClasses(this.element,t),this.addElementClasses()},s.prototype.syncVisible=function(e){this.element&&(this.element.style.display=e?"":"none")},s.prototype.rendered=function(){},s.prototype.validatorElementClassesFn_=function(e){return t.isString(e)},s.prototype.validatorElementFn_=function(e){return t.isElement(e)||t.isString(e)||!t.isDefAndNotNull(e)},s.prototype.validatorEventsFn_=function(e){return!t.isDefAndNotNull(e)||t.isObject(e)},s}(s);l.STATE={element:{setter:"setterElementFn_",validator:"validatorElementFn_"},elementClasses:{validator:"validatorElementClassesFn_"},events:{validator:"validatorEventsFn_",value:null},visible:{validator:t.isBoolean,value:!0}},l.COMPONENT_FLAG="__metal_component__",l.ELEMENT_CLASSES="",l.RENDERER=i,l.SYNC_UPDATES=!1,l.INVALID_KEYS=["components","wasRendered"],l.prototype[l.COMPONENT_FLAG]=!0,this.Library.Component=l}.call(this),function(){var e=this.LibraryNamed.metal.core,t=function(){function t(){babelHelpers.classCallCheck(this,t)}return t.getConstructor=function(e){var n=t.components_[e];return n},t.register=function(n,r){var o=r;o||(o=n.hasOwnProperty("NAME")?n.NAME:e.getFunctionName(n)),n.NAME=o,t.components_[o]=n},t}();t.components_={},this.Library.ComponentRegistry=t}.call(this),function(){var e=this.Library.Component,t=this.Library.ComponentRegistry,n=this.Library.ComponentRenderer;this.Library.component=e,this.LibraryNamed.component=this.LibraryNamed.component||{},this.LibraryNamed.component.Component=e,this.LibraryNamed.component.ComponentRegistry=t,this.LibraryNamed.component.ComponentRenderer=n}.call(this),function(){/**
   * @license
   * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *      http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS-IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
!function(e,t){t(e.IncrementalDOM=e.IncrementalDOM||{})}(window,function(e){"use strict";function t(){}function n(e,t){this.attrs=a(),this.attrsArr=[],this.newAttrs=a(),this.staticsApplied=!1,this.key=t,this.keyMap=a(),this.keyMapValid=!0,this.focused=!1,this.nodeName=e,this.text=null}function r(){this.created=p.nodesCreated&&[],this.deleted=p.nodesDeleted&&[]}var o=Object.prototype.hasOwnProperty;t.prototype=Object.create(null);var i=function(e,t){return o.call(e,t)},a=function(){return new t},s="__incrementalDOMData",l=function(e,t,r){var o=new n(t,r);return e[s]=o,o},c=function(e){return u(e),e[s]},u=function le(e){if(!e[s]){var t=e.nodeName.toLowerCase(),n=e instanceof Element,r=n?e.getAttribute("key"):null,o=l(e,t,r);if(r&&(c(e.parentNode).keyMap[r]=e),n)for(var i=e.attributes,a=o.attrs,u=o.newAttrs,d=o.attrsArr,g=0;g<i.length;g+=1){var h=i[g],p=h.name,f=h.value;a[p]=f,u[p]=void 0,d.push(p),d.push(f)}for(var m=e.firstChild;m;m=m.nextSibling)le(m)}},d=function(e,t){return"svg"===e?"http://www.w3.org/2000/svg":"foreignObject"===c(t).nodeName?null:t.namespaceURI},g=function(e,t,n,r){var o=d(n,t),i=void 0;return i=o?e.createElementNS(o,n):e.createElement(n),l(i,n,r),i},h=function(e){var t=e.createTextNode("");return l(t,"#text",null),t},p={nodesCreated:null,nodesDeleted:null};r.prototype.markCreated=function(e){this.created&&this.created.push(e)},r.prototype.markDeleted=function(e){this.deleted&&this.deleted.push(e)},r.prototype.notifyChanges=function(){this.created&&this.created.length>0&&p.nodesCreated(this.created),this.deleted&&this.deleted.length>0&&p.nodesDeleted(this.deleted)};var f=function(e){return e instanceof Document||e instanceof DocumentFragment},m=function(e,t){for(var n=[],r=e;r!==t;)n.push(r),r=r.parentNode;return n},y=function(e){for(var t=e,n=t;t;)n=t,t=t.parentNode;return n},_=function(e){var t=y(e);return f(t)?t.activeElement:null},b=function(e,t){var n=_(e);return n&&e.contains(n)?m(n,t):[]},v=function(e,t,n){for(var r=t.nextSibling,o=n;o!==t;){var i=o.nextSibling;e.insertBefore(o,r),o=i}},E=null,L=null,C=null,S=null,N=function(e,t){for(var n=0;n<e.length;n+=1)c(e[n]).focused=t},R=function(e){var t=function(t,n,o){var i=E,a=S,s=L,l=C;E=new r,S=t.ownerDocument,C=t.parentNode;var c=b(t,C);N(c,!0);var u=e(t,n,o);return N(c,!1),E.notifyChanges(),E=i,S=a,L=s,C=l,u};return t},D=R(function(e,t,n){return L=e,P(),t(n),U(),e}),I=R(function(e,t,n){var r={nextSibling:e};return L=r,t(n),e!==L&&w(C,e,c(C).keyMap),r===L?null:L}),T=function(e,t,n){var r=c(e);return t===r.nodeName&&n==r.key},A=function(e,t){if(!L||!T(L,e,t)){var n=c(C),r=L&&c(L),o=n.keyMap,i=void 0;if(t){var a=o[t];a&&(T(a,e,t)?i=a:a===L?E.markDeleted(a):w(C,a,o))}i||(i="#text"===e?h(S):g(S,C,e,t),t&&(o[t]=i),E.markCreated(i)),c(i).focused?v(C,i,L):r&&r.key&&!r.focused?(C.replaceChild(i,L),n.keyMapValid=!1):C.insertBefore(i,L),L=i}},w=function(e,t,n){e.removeChild(t),E.markDeleted(t);var r=c(t).key;r&&delete n[r]},O=function(){var e=C,t=c(e),n=t.keyMap,r=t.keyMapValid,o=e.lastChild,i=void 0;if(o!==L||!r){for(;o!==L;)w(e,o,n),o=e.lastChild;if(!r){for(i in n)o=n[i],o.parentNode!==e&&(E.markDeleted(o),delete n[i]);t.keyMapValid=!0}}},P=function(){C=L,L=null},k=function(){return L?L.nextSibling:C.firstChild},H=function(){L=k()},U=function(){O(),L=C,C=C.parentNode},M=function(e,t){return H(),A(e,t),P(),C},x=function(){return U(),L},F=function(){return H(),A("#text",null),L},j=function(){return C},B=function(){return k()},G=function(){L=C.lastChild},q=H,V={"default":"__default"},$=function(e){return 0===e.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===e.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},K=function(e,t,n){if(null==n)e.removeAttribute(t);else{var r=$(t);r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}},z=function(e,t,n){e[t]=n},W=function(e,t,n){t.indexOf("-")>=0?e.setProperty(t,n):e[t]=n},Y=function(e,t,n){if("string"==typeof n)e.style.cssText=n;else{e.style.cssText="";var r=e.style,o=n;for(var a in o)i(o,a)&&W(r,a,o[a])}},Q=function(e,t,n){var r="undefined"==typeof n?"undefined":babelHelpers["typeof"](n);"object"===r||"function"===r?z(e,t,n):K(e,t,n)},J=function(e,t,n){var r=c(e),o=r.attrs;if(o[t]!==n){var i=Z[t]||Z[V["default"]];i(e,t,n),o[t]=n}},Z=a();Z[V["default"]]=Q,Z.style=Y;var X=3,ee=[],te=function(e,t,n,r){var o=M(e,t),i=c(o);if(!i.staticsApplied){if(n)for(var a=0;a<n.length;a+=2){var s=n[a],l=n[a+1];J(o,s,l)}i.staticsApplied=!0}for(var u=i.attrsArr,d=i.newAttrs,g=!u.length,h=X,p=0;h<arguments.length;h+=2,p+=2){var f=arguments[h];if(g)u[p]=f,d[f]=void 0;else if(u[p]!==f)break;var l=arguments[h+1];(g||u[p+1]!==l)&&(u[p+1]=l,J(o,f,l))}if(h<arguments.length||p<u.length){for(;h<arguments.length;h+=1,p+=1)u[p]=arguments[h];for(p<u.length&&(u.length=p),h=0;h<u.length;h+=2){var s=u[h],l=u[h+1];d[s]=l}for(var m in d)J(o,m,d[m]),d[m]=void 0}return o},ne=function(e,t,n){ee[0]=e,ee[1]=t,ee[2]=n},re=function(e,t){ee.push(e),ee.push(t)},oe=function(){var e=te.apply(null,ee);return ee.length=0,e},ie=function(e){var t=x();return t},ae=function(e,t,n,r){return te.apply(null,arguments),ie(e)},se=function(e,t){var n=F(),r=c(n);if(r.text!==e){r.text=e;for(var o=e,i=1;i<arguments.length;i+=1){var a=arguments[i];o=a(o)}n.data=o}return n};e.patch=D,e.patchInner=D,e.patchOuter=I,e.currentElement=j,e.currentPointer=B,e.skip=G,e.skipNode=q,e.elementVoid=ae,e.elementOpenStart=ne,e.elementOpenEnd=oe,e.elementOpen=te,e.elementClose=ie,e.text=se,e.attr=re,e.symbols=V,e.attributes=Z,e.applyAttr=K,e.applyProp=z,e.notifications=p,e.importNode=u})}.call(this),function(){function e(e,t){u.push(e,t)}function t(e,t,n){u=[e,t,n]}function n(){return o("elementOpen").apply(null,u)}function r(e){return o("elementOpen").apply(null,arguments),o("elementClose")(e)}function o(e){return c[c.length-1][e]}function i(e){return o(e).apply(null,a.slice(arguments,1))}var a=this.LibraryNamed.metal.array,s=this.LibraryNamed.metal.object,l=function(){function o(){babelHelpers.classCallCheck(this,o)}return o.getOriginalFns=function(){return c[0]},o.startInterception=function(i){var a=o.getOriginalFns();i=s.map(i,function(e,t){return t.bind(null,a[e])}),c.push(s.mixin({},a,i,{attr:e,elementOpenEnd:n,elementOpenStart:t,elementVoid:r}))},o.stopInterception=function(){c.length>1&&c.pop()},o}(),c=[{attr:IncrementalDOM.attr,attributes:IncrementalDOM.attributes[IncrementalDOM.symbols["default"]],elementClose:IncrementalDOM.elementClose,elementOpen:IncrementalDOM.elementOpen,elementOpenEnd:IncrementalDOM.elementOpenEnd,elementOpenStart:IncrementalDOM.elementOpenStart,elementVoid:IncrementalDOM.elementVoid,text:IncrementalDOM.text}],u=[];IncrementalDOM.attr=i.bind(null,"attr"),IncrementalDOM.elementClose=i.bind(null,"elementClose"),IncrementalDOM.elementOpen=i.bind(null,"elementOpen"),IncrementalDOM.elementOpenEnd=i.bind(null,"elementOpenEnd"),IncrementalDOM.elementOpenStart=i.bind(null,"elementOpenStart"),IncrementalDOM.elementVoid=i.bind(null,"elementVoid"),IncrementalDOM.text=i.bind(null,"text"),IncrementalDOM.attributes[IncrementalDOM.symbols["default"]]=i.bind(null,"attributes"),this.Library.IncrementalDomAop=l}.call(this),function(){var e=this.Library.metal,t=function(){function t(){babelHelpers.classCallCheck(this,t)}return t.buildConfigFromCall=function(e){var t={};e[1]&&(t.key=e[1]);for(var n=(e[2]||[]).concat(e.slice(3)),r=0;r<n.length;r+=2)t[n[r]]=n[r+1];return t},t.buildCallFromConfig=function(e,t){for(var n=[e,t.key,[]],r=Object.keys(t),o=0;o<r.length;o++)"children"!==r[o]&&n.push(r[o],t[r[o]]);return n},t.isComponentTag=function(t){return!e.isString(t)||t[0]===t[0].toUpperCase()},t}();this.Library.IncrementalDomUtils=t}.call(this),function(){function e(e,n){var r=babelHelpers.defineProperty({parent:a},g.CHILD_OWNER,s);return n?(r.text=e[0],e.length>1&&(r.args=e)):(r.tag=e[0],r.config=d.buildConfigFromCall(e),d.isComponentTag(r.tag)&&(r.config.ref=c.isDefAndNotNull(r.config.ref)?r.config.ref:s.buildRef(e[0])),r.config.children=[]),t(r),r}function t(e){a.config.children.push(e)}function n(){a===l?(u.stopInterception(),h=!1,i(l),i=null,a=null,s=null,l=null):a=a.parent}function r(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];a=e(r)}function o(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e(r,!0)}var i,a,s,l,c=this.Library.metal,u=this.Library.IncrementalDomAop,d=this.Library.IncrementalDomUtils,g=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.capture=function(e,t){s=e,i=t,l={config:{children:[]}},a=l,h=!0,u.startInterception({elementClose:n,elementOpen:r,text:o})},e.render=function(n,r){if(h)return void t(n);if(!r||!r(n))if(c.isDef(n.text)){var o=n.args?n.args:[];o[0]=n.text,IncrementalDOM.text.apply(null,o)}else{var i=d.buildCallFromConfig(n.tag,n.config);if(IncrementalDOM.elementOpen.apply(null,i),n.config.children)for(var a=0;a<n.config.children.length;a++)e.render(n.config.children[a],r);IncrementalDOM.elementClose(n.tag)}},e}(),h=!1;g.CHILD_OWNER="__metalChildOwner",this.Library.IncrementalDomChildren=g}.call(this),function(){var e=[],t=function(){function t(){babelHelpers.classCallCheck(this,t)}return t.disposeUnused=function(){for(var t=0;t<e.length;t++)if(!e[t].isDisposed()){var n=e[t].getRenderer();if(!n.getParent()){e[t].element=null;var r=e[t].config.ref,o=n.getOwner();o.components[r]===e[t]?o.disposeSubComponents([r]):e[t].dispose()}}e=[]},t.schedule=function(t){for(var n=0;n<t.length;n++)t[n].getRenderer().parent_=null,e.push(t[n])},t}();this.Library.IncrementalDomUnusedComponents=t}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.LibraryNamed.metal.object,n=this.Library.dom,r=this.LibraryNamed.component.Component,o=this.LibraryNamed.component.ComponentRegistry,i=this.LibraryNamed.component.ComponentRenderer,a=this.Library.IncrementalDomAop,s=this.Library.IncrementalDomChildren,l=this.Library.IncrementalDomUnusedComponents,c=this.Library.IncrementalDomUtils,u=function(i){function u(e){babelHelpers.classCallCheck(this,u);var t=babelHelpers.possibleConstructorReturn(this,i.call(this,e));return e.context={},t.setConfig_(e,e.getInitialConfig()),t.changes_={},e.on("attached",t.handleAttached_.bind(t)),t.component_.constructor.SYNC_UPDATES_MERGED||e.on("stateKeyChanged",t.handleStateKeyChanged_.bind(t)),t.handleInterceptedAttributesCall_=t.handleInterceptedAttributesCall_.bind(t),t.handleInterceptedOpenCall_=t.handleInterceptedOpenCall_.bind(t),t.handleChildrenCaptured_=t.handleChildrenCaptured_.bind(t),t.handleChildRender_=t.handleChildRender_.bind(t),t.renderInsidePatchDontSkip_=t.renderInsidePatchDontSkip_.bind(t),t}return babelHelpers.inherits(u,i),u.prototype.attachDecoratedListeners_=function(e,t){if(!this.component_.wasRendered)for(var n=(t[2]||[]).concat(t.slice(3)),r=0;r<n.length;r+=2){var o=this.getEventFromListenerAttr_(n[r]);o&&!e[o+"__handle__"]&&this.attachEvent_(e,n[r],o,n[r+1])}},u.prototype.attachEvent_=function(t,r,o,i){var a=o+"__handle__";t[a]&&(t[a].removeListener(),t[a]=null),t[r]=i,i?(e.isString(i)&&("d"===r[0]&&t.setAttribute(r,i),i=this.component_.getListenerFn(i)),t[a]=n.delegate(document,o,t,i)):t.removeAttribute(r)},u.prototype.buildChildren_=function(e){return 0===e.length?g:e},u.prototype.buildRef=function(t){var n=e.isString(t)?o.getConstructor(t):t,r=this.currentPrefix_+e.getUid(n,!0),i=this.generatedRefCount_[r]||0;return this.generatedRefCount_[r]=i+1,r+"sub"+i},u.getComponentBeingRendered=function(){return d[d.length-1]},u.prototype.getSubComponent_=function(t,n){var r=t;e.isString(r)&&(r=o.getConstructor(t));var i=this.component_.components[n.ref];return i&&i.constructor!==r&&(i=null),i||(i=new r(n,(!1)),this.component_.addSubComponent(n.ref,i)),i.wasRendered&&(this.setConfig_(i,n),i.getRenderer().startSkipUpdates(),i.setState(n),i.getRenderer().stopSkipUpdates()),i},u.prototype.guaranteeParent_=function(){var e=this.component_.element;if(!e||!e.parentNode){var t=document.createElement("div");return e&&n.append(t,e),t}},u.finishedRenderingComponent=function(){d.pop(),0===d.length&&l.disposeUnused()},u.prototype.handleAttached_=function(e){this.attachData_=e},u.prototype.handleInterceptedAttributesCall_=function(t,n,r,o){var i=this.getEventFromListenerAttr_(r);return i?void this.attachEvent_(n,r,i,o):("checked"===r&&(o=e.isDefAndNotNull(o)&&o!==!1),"value"===r&&n.value!==o&&(n[r]=o),void(e.isBoolean(o)?(n[r]=o,o?n.setAttribute(r,""):n.removeAttribute(r)):t(n,r,o)))},u.prototype.handleChildrenCaptured_=function(e){var t=this.componentToRender_,n=t.config,r=t.tag;n.children=this.buildChildren_(e.config.children),this.componentToRender_=null,this.currentPrefix_=this.prevPrefix_,this.prevPrefix_=null,this.renderFromTag_(r,n)},u.prototype.handleChildRender_=function(e){if(e.tag&&c.isComponentTag(e.tag))return e.config.children=this.buildChildren_(e.config.children),this.renderFromTag_(e.tag,e.config),!0},u.prototype.handleComponentRendererStateKeyChanged_=function(e){this.handleStateKeyChanged_(e),i.prototype.handleComponentRendererStateKeyChanged_.call(this,e)},u.prototype.handleInterceptedOpenCall_=function(e,t){return c.isComponentTag(t)?this.handleSubComponentCall_.apply(this,arguments):this.handleRegularCall_.apply(this,arguments)},u.prototype.handleRegularCall_=function(e){for(var t=u.getComponentBeingRendered(),n=t.getRenderer(),r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];!n.rootElementReached_&&t.config.key&&(o[1]=t.config.key);var a=e.apply(null,o);return this.attachDecoratedListeners_(a,o),this.updateElementIfNotReached_(a),a},u.prototype.handleStateKeyChanged_=function(e){this.changes_[e.key]=e},u.prototype.handleSubComponentCall_=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=c.buildConfigFromCall(r);i.ref=e.isDefAndNotNull(i.ref)?i.ref:this.buildRef(r[0]),this.componentToRender_={config:i,tag:r[0]},this.prevPrefix_=this.currentPrefix_,this.currentPrefix_=i.ref,this.generatedRefCount_[this.currentPrefix_]=0,s.capture(this,this.handleChildrenCaptured_)},u.prototype.intercept_=function(){a.startInterception({attributes:this.handleInterceptedAttributesCall_,elementOpen:this.handleInterceptedOpenCall_})},u.isIncDomNode=function(e){return!!e[s.CHILD_OWNER]},u.prototype.getEventFromListenerAttr_=function(e){var t=u.LISTENER_REGEX.exec(e),n=t?t[1]?t[1]:t[2]:null;return n?n.toLowerCase():null},u.prototype.getParent=function(){return this.parent_},u.prototype.getOwner=function(){return this.owner_},u.render=function(e,t,n){if(!r.isComponentCtor(e)){var o=e,i=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.created=function(){u.getComponentBeingRendered()&&this.getRenderer().updateContext_(this)},t.prototype.render=function(){o(this.config)},t}(r);i.RENDERER=u,e=i}return r.render(e,t,n)},u.prototype.render=function(){this.patch()},u.renderChild=function(e){e[s.CHILD_OWNER].renderChild(e)},u.prototype.renderChild=function(e){this.intercept_(),s.render(e,this.handleChildRender_),a.stopInterception()},u.prototype.renderFromTag_=function(t,n){if(e.isString(t)||t.prototype.getRenderer){var r=this.renderSubComponent_(t,n);return this.updateElementIfNotReached_(r.element),r.element}return t(n)},u.prototype.renderIncDom=function(){this.component_.render?this.component_.render():IncrementalDOM.elementVoid("div")},u.prototype.renderInsidePatch=function(){return this.component_.wasRendered&&!this.shouldUpdate(this.changes_)&&IncrementalDOM.currentPointer()===this.component_.element?void(this.component_.element&&IncrementalDOM.skipNode()):void this.renderInsidePatchDontSkip_()},u.prototype.renderInsidePatchDontSkip_=function(){u.startedRenderingComponent(this.component_),this.changes_={},this.rootElementReached_=!1,l.schedule(this.childComponents_||[]),this.childComponents_=[],this.generatedRefCount_={},this.listenersToAttach_=[],this.currentPrefix_="",this.intercept_(),this.renderIncDom(),a.stopInterception(),this.rootElementReached_?this.component_.addElementClasses():this.component_.element=null,this.emit("rendered",!this.isRendered_),u.finishedRenderingComponent()},u.prototype.renderSubComponent_=function(e,t){var n=this.getSubComponent_(e,t);this.updateContext_(n);var r=n.getRenderer();if(r instanceof u){var o=u.getComponentBeingRendered();o.getRenderer().childComponents_.push(n),r.parent_=o,r.owner_=this.component_,r.renderInsidePatch()}return n.wasRendered||n.renderAsSubComponent(),n},u.prototype.setConfig_=function(t,n){var r=t.config;t.config=n,e.isFunction(t.configChanged)&&t.configChanged(n,r||{}),t.emit("configChanged",{prevVal:r,newVal:n})},u.prototype.shouldUpdate=function(e){return!this.component_.shouldUpdate||this.component_.shouldUpdate(e)},u.startedRenderingComponent=function(e){d.push(e)},u.prototype.patch=function(){if(!this.component_.element&&this.parent_)return void this.parent_.getRenderer().patch();var e=this.guaranteeParent_();if(e)IncrementalDOM.patch(e,this.renderInsidePatchDontSkip_),n.exitDocument(this.component_.element),this.component_.element&&this.component_.inDocument&&this.component_.renderElement_(this.attachData_.parent,this.attachData_.sibling);else{var t=this.component_.element;IncrementalDOM.patchOuter(t,this.renderInsidePatchDontSkip_),this.component_.element||n.exitDocument(t)}},u.prototype.update=function(){this.hasChangedBesidesElement_(this.changes_)&&this.shouldUpdate(this.changes_)&&this.patch()},u.prototype.updateElementIfNotReached_=function(e){var t=u.getComponentBeingRendered(),n=t.getRenderer();n.rootElementReached_||(n.rootElementReached_=!0,t.element!==e&&(t.element=e))},u.prototype.updateContext_=function(e){var n=e.context,r=u.getComponentBeingRendered(),o=r.getChildContext?r.getChildContext():{};t.mixin(n,r.context,o),e.context=n},u}(i),d=[],g=[];u.LISTENER_REGEX=/^(?:on([A-Z]\w+))|(?:data-on(\w+))$/,this.Library.IncrementalDomRenderer=u}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.LibraryNamed.metal.object,n=this.LibraryNamed.senna.App,r=this.LibraryNamed.senna.RequestScreen,o=this.LibraryNamed.senna.Route,i=this.Library.Promise,a=this.LibraryNamed.component.Component,s=this.LibraryNamed.component.ComponentRegistry,l=this.Library.IncrementalDomRenderer,c=function(t){function r(){return babelHelpers.classCallCheck(this,r),babelHelpers.possibleConstructorReturn(this,t.apply(this,arguments))}return babelHelpers.inherits(r,t),r.prototype.render=function(){IncrementalDOM.elementVoid("link",null,[],"rel","metal-route")},r.route=function(e,t,n,o){return new r({path:e,component:t,initialState:n,includeCurrentUrl:o},(!1))},r.router=function(){return r.routerInstance||(r.routerInstance=new n),r.routerInstance},r.isRoutingToSameActiveComponent=function(e){return r.activeComponent instanceof e.resolveComponentConstructor()},r.prototype.created=function(){var e=this;this.route=new o(this.path,function(){return new r.defaultScreen(e)}),this.route.router=this,r.router().addRoutes(this.route)},r.prototype.disposeInternal=function(){r.router().removeRoute(this.route),t.prototype.disposeInternal.call(this)},r.prototype.createComponent=function(e,t){return new(this.resolveComponentConstructor())(e,t)},r.prototype.resolveComponentConstructor=function(){var t=this.component;return e.isString(t)&&(t=s.getConstructor(t)),t},r}(a);c.RENDERER=l,c.STATE={cacheable:{validator:e.isBoolean,value:!0},component:{},container:{},includeCurrentUrl:{value:!1},initialState:{setter:function(t){return t?e.isFunction(t)?t:function(){return t}:null}},path:{},reuseActiveComponent:{validator:e.isBoolean,value:!0}},c.activeComponent=null,c.activeState=null;var u=function(n){function r(e){babelHelpers.classCallCheck(this,r);var t=babelHelpers.possibleConstructorReturn(this,n.call(this));if(!e)throw new Error("Router not specified for component screen.");return t.router=e,t}return babelHelpers.inherits(r,n),r.prototype.evaluateScripts=function(){},r.prototype.evaluateStyles=function(){},r.prototype.flip=function(){var e=this.router,n=this.maybeFindRedirectRouter();n&&(e=n),c.activeState=this.maybeParseLastLoadedStateAsJson(),e.includeCurrentUrl&&(c.activeState=t.mixin({},c.activeState,{currentUrl:e.path})),this.router.reuseActiveComponent&&c.isRoutingToSameActiveComponent(e)?c.activeComponent.setState(c.activeState):(c.activeComponent&&c.activeComponent.dispose(),c.activeComponent=e.createComponent(c.activeState,e.container))},r.prototype.load=function(t){var r=this;this.setCacheable(this.router.cacheable);var o=i.resolve();return o=e.isNull(this.router.initialState)?o.then(function(){return n.prototype.load.call(r,t)}):o.then(function(){return r.router.initialState(t)}),o.then(function(e){return r.router.lastPath=t,r.router.lastLoadedState=e,e})},r.prototype.maybeFindRedirectRouter=function(){var e=this.beforeUpdateHistoryPath(this.router.lastPath);if(e!==this.router.lastPath){var t=c.router().findRoute(e);if(t)return t.router}return null},r.prototype.maybeParseLastLoadedStateAsJson=function(){var t=this.router.lastLoadedState;try{return JSON.parse(t)}catch(n){return e.isDefAndNotNull(t)?t:{}}},r}(r);c.defaultScreen=u,this.Library.Router=c}.call(this),function(){var e=this.Library.Router;new e({container:"#content",component:"LoginForm",path:/\/home/,reuseActiveComponent:!1},(!1)),new e({container:"#content",component:"LoginForm",path:/\//,reuseActiveComponent:!1},(!1)),new e({container:"#content",component:"OrganizationForm",path:/\/organization/,reuseActiveComponent:!1},(!1)),e.router().dispatch()}.call(this),function(){var e="http://auth.hackadaylibrary.wedeploy.me",t=WeDeploy.auth(e),n=new t.provider.Google;n.setProviderScope("email"),n.setRedirectUri("/home"),window.loginWithGoogle=function(){t.signInWithRedirect(n)},t.onSignIn(function(){})}.call(this),function(){(function(){this.CLOSURE_NO_DEPS=!0,this.goog=this.goog||{};var COMPILED=!1,goog=this.goog||{};goog.global=this,goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,t,n){var r=e.split("."),o=n||goog.global;r[0]in o||!o.execScript||o.execScript("var "+r[0]);for(var i;r.length&&(i=r.shift());)!r.length&&goog.isDef(t)?o[i]=t:o=o[i]?o[i]:o[i]={}},goog.define=function(e,t){var n=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?n=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(n=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,n)},goog.define("goog.DEBUG",!0),goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG),goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",!1),goog.provide=function(e){if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var n=e;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||e.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED)return goog.isProvided_(e)?e in goog.loadedModules_?goog.loadedModules_[e]:goog.getObjectByName(e):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var n,r=e.split("."),o=t||goog.global;n=r.shift();){if(!goog.isDefAndNotNull(o[n]))return null;o=o[n]}return o},goog.globalize=function(e,t){var n=t||goog.global;for(var r in e)n[r]=e[r]},goog.addDependency=function(e,t,n,r){if(goog.DEPENDENCIES_ENABLED){var o,i,a=e.replace(/\\/g,"/"),s=goog.dependencies_;r&&"boolean"!=typeof r||(r=r?{module:"goog"}:{});for(var l=0;o=t[l];l++)s.nameToPath[o]=a,s.pathIsModule[a]="goog"==r.module;for(var c=0;i=n[c];c++)a in s.requires||(s.requires[a]={}),s.requires[a][i]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e))return goog.isInModuleLoader_()?goog.module.getInternal_(e):null;if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.writeScripts_(t),null}var n="goog.require could not find: "+e;throw goog.logToConsole_(n),Error(n)}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))return void(goog.basePath=goog.global.CLOSURE_BASE_PATH);if(goog.inHtmlDocument_())for(var e=goog.global.document,t=e.getElementsByTagName("SCRIPT"),n=t.length-1;n>=0;--n){var r=t[n],o=r.src,i=o.lastIndexOf("?"),a=i==-1?o.length:i;if("base.js"==o.substr(a-7,7))return void(goog.basePath=o.substr(0,a-7))}},goog.importScript_=function(e,t){var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;n(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importModule_=function(e){var t='goog.retrieveAndExecModule_("'+e+'");';goog.importScript_("",t)&&(goog.dependencies_.written[e]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var t=goog.queuedModules_;goog.queuedModules_=[];for(var n=0;n<e;n++){var r=t[n];goog.maybeProcessDeferredPath_(r)}}},goog.maybeProcessDeferredDep_=function(e){if(goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)){var t=goog.getPathFromDeps_(e);goog.maybeProcessDeferredPath_(goog.basePath+t)}},goog.isDeferredModule_=function(e){var t=goog.getPathFromDeps_(e);if(t&&goog.dependencies_.pathIsModule[t]){var n=goog.basePath+t;return n in goog.dependencies_.deferred}return!1},goog.allDepsAreAvailable_=function(e){var t=goog.getPathFromDeps_(e);if(t&&t in goog.dependencies_.requires)for(var n in goog.dependencies_.requires[t])if(!goog.isProvided_(n)&&!goog.isDeferredModule_(n))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExecModule_(e)},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1};var n;if(goog.isFunction(e))n=e.call(goog.global,{});else{if(!goog.isString(e))throw Error("Invalid module definition");n=goog.loadModuleFromSource_.call(goog.global,e)}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw Error('Invalid module name "'+r+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(n),goog.loadedModules_[r]=n}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(){"use strict";var exports={};return eval(arguments[0]),exports},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"></script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.src=e,n.defer=!1,n.async=!1,t.head.appendChild(n)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var n=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==n.readyState){var r=/\bdeps.js$/.test(e);if(r)return!1;throw Error('Cannot write "'+e+'" after document load')}var o=goog.IS_OLD_IE_;if(void 0===t)if(o){var i=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";n.write('<script type="text/javascript" src="'+e+'"'+i+"></script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e);else n.write('<script type="text/javascript">'+t+"</script>");return!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){function t(e){if(!(e in o.written||e in o.visited)){if(o.visited[e]=!0,e in o.requires)for(var i in o.requires[e])if(!goog.isProvided_(i)){if(!(i in o.nameToPath))throw Error("Undefined nameToPath for "+i);t(o.nameToPath[i])}e in r||(r[e]=!0,n.push(e))}}var n=[],r={},o=goog.dependencies_;t(e);for(var i=0;i<n.length;i++){var a=n[i];goog.dependencies_.written[a]=!0}var s=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var i=0;i<n.length;i++){var a=n[i];if(!a)throw goog.moduleLoaderState_=s,Error("Undefined script input");o.pathIsModule[a]?goog.importModule_(goog.basePath+a):goog.importScript_(goog.basePath+a)}goog.moduleLoaderState_=s},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(e){for(var t=e.split("/"),n=0;n<t.length;)"."==t[n]?t.splice(n,1):n&&".."==t[n]&&t[n-1]&&".."!=t[n-1]?t.splice(--n,2):n++;return t.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.responseText},goog.retrieveAndExecModule_=function(e){if(!COMPILED){var t=e;e=goog.normalizePath_(e);var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,r=goog.loadFileSync_(e);
if(null==r)throw new Error("load of "+e+"failed");var o=goog.wrapModule_(e,r),i=goog.IS_OLD_IE_;i?(goog.dependencies_.deferred[t]=o,goog.queuedModules_.push(t)):n(e,o)}},goog.typeOf=function(e){var t="undefined"==typeof e?"undefined":babelHelpers["typeof"](e);if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t="undefined"==typeof e?"undefined":babelHelpers["typeof"](e);return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);/** @preserveTry */
try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var n="array"==t?[]:{};for(var r in e)n[r]=goog.cloneObject(e[r]);return n}return e},goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,n){if(!e)throw new Error;if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),"undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(t){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var n=goog.global.document,r=n.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(n.createTextNode(e)),n.body.appendChild(r),n.body.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(e,t){var n,r=function(e){return goog.cssNameMapping_[e]||e},o=function(e){for(var t=e.split("-"),n=[],o=0;o<t.length;o++)n.push(r(t[o]));return n.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:o:function(e){return e},t?e+"-"+n(t):n(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,r){for(var o=new Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}},goog.base=function(e,t,n){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_){for(var o=new Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];return r.superClass_.constructor.apply(e,o)}for(var a=new Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];for(var s=!1,l=e.constructor;l;l=l.superClass_&&l.superClass_.constructor)if(l.prototype[t]===r)s=!0;else if(s)return l.prototype[t].apply(e,a);if(e[t]===r)return e.constructor.prototype[t].apply(e,a);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.string={},goog.string.subs=function(e,t){for(var n=e.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&n.length>1;)r+=n.shift()+o.shift();return r+n.join("%s")},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.htmlEscape=function(e,t){return t?(e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e):goog.string.ALL_RE_.test(e)?(e.indexOf("&")!=-1&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),e.indexOf("<")!=-1&&(e=e.replace(goog.string.LT_RE_,"&lt;")),e.indexOf(">")!=-1&&(e=e.replace(goog.string.GT_RE_,"&gt;")),e.indexOf('"')!=-1&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),e.indexOf("'")!=-1&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),e.indexOf("\0")!=-1&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&e.indexOf("e")!=-1&&(e=e.replace(goog.string.E_RE_,"&#101;")),e):e},goog.debug={},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":"undefined"==typeof e?"undefined":babelHelpers["typeof"](e)},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=(new Error).stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.provide("goog.i18n.bidi"),goog.provide("goog.i18n.bidi.Dir"),goog.provide("goog.i18n.bidi.DirectionalString"),goog.provide("goog.i18n.bidi.Format"),goog.define("goog.i18n.bidi.FORCE_RTL",!1),goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||goog.LOCALE.length>=3&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?e>0?goog.i18n.bidi.Dir.LTR:e<0?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-߿‏יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=new RegExp("^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i"),goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){var n=void 0===t?goog.i18n.bidi.hasAnyRtl(e):t,r=n?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,r+"$&"+r)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){for(var n=0,r=0,o=!1,i=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),a=0;a<i.length;a++){var s=i[a];goog.i18n.bidi.startsWithRtl(s)?(n++,r++):goog.i18n.bidi.isRequiredLtrRe_.test(s)?o=!0:goog.i18n.bidi.hasAnyLtr(s)?r++:goog.i18n.bidi.hasNumeralsRe_.test(s)&&(o=!0)}return 0==r?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:n/r>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t),t&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"))},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.i18n.bidi.DirectionalString.prototype.implementsGoogI18nBidiDirectionalString,goog.i18n.bidi.DirectionalString.prototype.getDirection,goog.provide("goog.asserts"),goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG),goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,n,r){var o="Assertion failed";if(n){o+=": "+n;var i=r}else e&&(o+=": "+e,i=t);var a=new goog.asserts.AssertionError(""+o,i||[]);goog.asserts.errorHandler_(a)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,n,r){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],n,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":"undefined"==typeof e?"undefined":babelHelpers["typeof"](e)},goog.string.StringBuffer=function(e,t){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,t,n){if(this.buffer_+=String(e),null!=t)for(var r=1;r<arguments.length;r++)this.buffer_+=arguments[r];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.soy={},goog.soy.data={},goog.soy.data.SanitizedContentKind={HTML:goog.DEBUG?{sanitizedContentKindHtml:!0}:{},JS:goog.DEBUG?{sanitizedContentJsChars:!0}:{},URI:goog.DEBUG?{sanitizedContentUri:!0}:{},TRUSTED_RESOURCE_URI:goog.DEBUG?{sanitizedContentTrustedResourceUri:!0}:{},ATTRIBUTES:goog.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:goog.DEBUG?{sanitizedContentCss:!0}:{},TEXT:goog.DEBUG?{sanitizedContentKindText:!0}:{}},goog.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},goog.soy.data.SanitizedContent.prototype.contentKind,goog.soy.data.SanitizedContent.prototype.contentDir=null,goog.soy.data.SanitizedContent.prototype.content,goog.soy.data.SanitizedContent.prototype.getContent=function(){return this.content},goog.soy.data.SanitizedContent.prototype.toString=function(){return this.content},goog.soy.data.UnsanitizedText=function(){goog.soy.data.UnsanitizedText.base(this,"constructor")},goog.inherits(goog.soy.data.UnsanitizedText,goog.soy.data.SanitizedContent),function(){var e={};e.asserts={},e.esc={};var t={};e.StringBuilder=goog.string.StringBuffer,t.SanitizedContentKind=goog.soy.data.SanitizedContentKind,t.isContentKind=function(e,t){return null!=e&&e.contentKind===t},t.SanitizedUri=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(t.SanitizedUri,goog.soy.data.SanitizedContent),t.SanitizedUri.prototype.contentKind=t.SanitizedContentKind.URI,t.SanitizedUri.prototype.contentDir=goog.i18n.bidi.Dir.LTR,t.UnsanitizedText=function(e,t){this.content=String(e),this.contentDir=null!=t?t:null},goog.inherits(t.UnsanitizedText,goog.soy.data.UnsanitizedText),t.UnsanitizedText.prototype.contentKind=t.SanitizedContentKind.TEXT,t.$$EMPTY_STRING_={VALUE:""},t.$$makeSanitizedContentFactory_=function(e){function t(e){this.content=e}function n(e,n){var r=new t(String(e));return void 0!==n&&(r.contentDir=n),r}return t.prototype=e.prototype,n},t.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(e){function t(e){this.content=e}function n(e){var n=new t(String(e));return n}return t.prototype=e.prototype,n},t.markUnsanitizedText=function(e,n){return new t.UnsanitizedText(e,n)},t.VERY_UNSAFE={},t.VERY_UNSAFE.ordainSanitizedUri=t.$$makeSanitizedContentFactoryWithDefaultDirOnly_(t.SanitizedUri),e.$$augmentMap=function(e,t){function n(){}n.prototype=e;var r=new n;for(var o in t)r[o]=t[o];return r},e.$$checkMapKey=function(e){if("string"!=typeof e)throw Error("Map literal's key expression must evaluate to string (encountered type \""+("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))+'").');return e},e.$$getMapKeys=function(e){var t=[];for(var n in e)t.push(n);return t},e.$$checkNotNull=function(e){if(null==e)throw Error("unexpected null value");return e},e.$$getDelTemplateId=function(e){return e},e.$$DELEGATE_REGISTRY_PRIORITIES_={},e.$$DELEGATE_REGISTRY_FUNCTIONS_={},e.$$registerDelegateFn=function(t,n,r,o){var i="key_"+t+":"+n,a=e.$$DELEGATE_REGISTRY_PRIORITIES_[i];if(void 0===a||r>a)e.$$DELEGATE_REGISTRY_PRIORITIES_[i]=r,e.$$DELEGATE_REGISTRY_FUNCTIONS_[i]=o;else if(r==a)throw Error('Encountered two active delegates with the same priority ("'+t+":"+n+'").')},e.$$getDelegateFn=function(t,n,r){var o=e.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+t+":"+n];if(o||""==n||(o=e.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+t+":"]),o)return o;if(r)return e.$$EMPTY_TEMPLATE_FN_;throw Error('Found no active impl for delegate call to "'+t+":"+n+'" (and not allowemptydefault="true").')},e.$$EMPTY_TEMPLATE_FN_=function(e,t,n){return""},e.$$truncate=function(t,n,r){return t=String(t),t.length<=n?t:(r&&(n>3?n-=3:r=!1),e.$$isHighSurrogate_(t.charAt(n-1))&&e.$$isLowSurrogate_(t.charAt(n))&&(n-=1),t=t.substring(0,n),r&&(t+="..."),t)},e.$$isHighSurrogate_=function(e){return 55296<=e&&e<=56319},e.$$isLowSurrogate_=function(e){return 56320<=e&&e<=57343},e.asserts.assertType=function(e,t,n,r,o){var i="expected param "+t+" of type "+r+(goog.DEBUG?", but got "+goog.debug.runtimeType(n):"")+".";return goog.asserts.assert(e,i,o)},e.esc.$$escapeHtmlHelper=function(e){return goog.string.htmlEscape(String(e))},e.$$filterImageDataUri=function(n){return t.VERY_UNSAFE.ordainSanitizedUri(e.esc.$$filterImageDataUriHelper(n))},e.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\/]+=*$/i,e.esc.$$filterImageDataUriHelper=function(t){var n=String(t);return e.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(n)?n:(goog.asserts.fail("Bad value `%s` for |filterImageDataUri",[n]),"data:image/gif;base64,zSoyz")},goog.loadModule(function(){return goog.module("soy"),e}),goog.loadModule(function(){return goog.module("soydata"),t}),goog.loadModule(function(){return goog.module("soy.asserts"),e})}(),goog.loadModule(function(){return goog.module("incrementaldom"),IncrementalDOM})}).call(window)}.call(this),function(){/*
  * HTML5 Parser By Sam Blowes
  *
  * Designed for HTML5 documents
  *
  * Original code by John Resig (ejohn.org)
  * http://ejohn.org/blog/pure-javascript-html-parser/
  * Original code by Erik Arvidsson, Mozilla Public License
  * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
  *
  * ----------------------------------------------------------------------------
  * License
  * ----------------------------------------------------------------------------
  *
  * This code is triple licensed using Apache Software License 2.0,
  * Mozilla Public License or GNU Public License
  *
  * ////////////////////////////////////////////////////////////////////////////
  *
  * Licensed under the Apache License, Version 2.0 (the "License"); you may not
  * use this file except in compliance with the License.  You may obtain a copy
  * of the License at http://www.apache.org/licenses/LICENSE-2.0
  *
  * ////////////////////////////////////////////////////////////////////////////
  *
  * The contents of this file are subject to the Mozilla Public License
  * Version 1.1 (the "License"); you may not use this file except in
  * compliance with the License. You may obtain a copy of the License at
  * http://www.mozilla.org/MPL/
  *
  * Software distributed under the License is distributed on an "AS IS"
  * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
  * License for the specific language governing rights and limitations
  * under the License.
  *
  * The Original Code is Simple HTML Parser.
  *
  * The Initial Developer of the Original Code is Erik Arvidsson.
  * Portions created by Erik Arvidssson are Copyright (C) 2004. All Rights
  * Reserved.
  *
  * ////////////////////////////////////////////////////////////////////////////
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
  * as published by the Free Software Foundation; either version 2
  * of the License, or (at your option) any later version.
  *
  * This program is distributed in the hope that it will be useful,
  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  * GNU General Public License for more details.
  *
  * You should have received a copy of the GNU General Public License
  * along with this program; if not, write to the Free Software
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
  * @license
  */
(function(){function e(e){for(var t={},n=e.split(","),r=0;r<n.length;r++)t[n[r]]=!0;return t}var t=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,n=/^<\/([-A-Za-z0-9_]+)[^>]*>/,r=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,o=e("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),i=e("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),a=e("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),s=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),l=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),c=e("script,style");window.HTMLParser=function(e,u){function d(e,t,n,c){if(t=t.toLowerCase(),i[t])for(;m.last()&&a[m.last()];)g("",m.last());if(s[t]&&m.last()==t&&g("",t),c=o[t]||!!c,c||m.push(t),u.start){var d=[];n.replace(r,function(e,t){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:l[t]?t:"";d.push({name:t,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})}),u.start&&u.start(t,d,c)}}function g(e,t){if(t)for(var n=m.length-1;n>=0&&m[n]!=t;n--);else var n=0;if(n>=0){for(var r=m.length-1;r>=n;r--)u.end&&u.end(m[r]);m.length=n}}var h,p,f,m=[],y=e;for(m.last=function(){return this[this.length-1]};e;){if(p=!0,m.last()&&c[m.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+m.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),u.chars&&u.chars(t),""}),g("",m.last());else if(0==e.indexOf("<!--")?(h=e.indexOf("-->"),h>=0&&(u.comment&&u.comment(e.substring(4,h)),e=e.substring(h+3),p=!1)):0==e.indexOf("</")?(f=e.match(n),f&&(e=e.substring(f[0].length),f[0].replace(n,g),p=!1)):0==e.indexOf("<")&&(f=e.match(t),f&&(e=e.substring(f[0].length),f[0].replace(t,d),p=!1)),p){h=e.indexOf("<");var _=h<0?e:e.substring(0,h);e=h<0?"":e.substring(h),u.chars&&u.chars(_)}if(e==y)throw"Parse Error: "+e;y=e}g()}}).call(this)}.call(this),function(){function e(e){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},r=document.createElement("div");return e.replace(t,function(e,t){var o=n[e];if(o)return o;if("#"===t.charAt(0)){var i=Number("0"+t.substr(1));isNaN(i)||(o=String.fromCharCode(i))}return o||(r.innerHTML=e+" ",o=r.firstChild.nodeValue.slice(0,-1)),n[e]=o,o})}this.Library.unescape=e;var t=/&([^;\s<&]+);?/g}.call(this),function(){var e,t=this.Library.unescape,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return n.buildFn=function(e){return function(){return n.run(e)}},n.getParser=function(){return e||window.HTMLParser},n.run=function(e){n.getParser()(e,{start:function(e,t,n){for(var r=n?IncrementalDOM.elementVoid:IncrementalDOM.elementOpen,o=[e,null,[]],i=0;i<t.length;i++)o.push(t[i].name,t[i].value);r.apply(null,o)},end:function(e){IncrementalDOM.elementClose(e)},chars:function(e){IncrementalDOM.text(e,t)}})},n.setParser=function(t){e=t},n}();this.Library.HTML2IncDom=n}.call(this),function(){var e=this.Library.HTML2IncDom;this.Library.withParser=e}.call(this),function(){var e={interceptFns_:[],getOriginalFn:function(e){return e.originalFn?e.originalFn:e},handleTemplateCall_:function(t,n,r,o){var i=e.interceptFns_[e.interceptFns_.length-1];return i?i.call(null,t,n,r,o):t.call(null,n,r,o)},registerForInterception:function(t,n){var r=t[n];r.originalFn||(t[n]=e.handleTemplateCall_.bind(null,r),t[n].originalFn=r)},startInterception:function(t){e.interceptFns_.push(t)},stopAllInterceptions:function(){e.interceptFns_=[]},stopInterception:function(){e.interceptFns_.pop()}};this.Library.SoyAop=e}.call(this),function(){var e=this.LibraryNamed.metal.core,t=this.LibraryNamed.metal.object,n=this.LibraryNamed.component.ComponentRegistry,r=this.Library.withParser,o=this.Library.IncrementalDomRenderer,i=this.Library.SoyAop,a={},s=function(o){function s(e){babelHelpers.classCallCheck(this,s);var t=babelHelpers.possibleConstructorReturn(this,o.call(this,e));return t.addMissingStateKeys_(),t}return babelHelpers.inherits(s,o),s.prototype.addMissingStateKeys_=function(){var t=this.component_.constructor.TEMPLATE;if(e.isFunction(t)){t=i.getOriginalFn(t),this.soyParamTypes_=t.types||{};for(var n=t.params||[],r=this.component_,o=0;o<n.length;o++)r.getStateKeyConfig(n[o])||r[n[o]]||r.addToState(n[o],{},r.getInitialConfig()[n[o]])}},s.prototype.buildTemplateData_=function(n){var r=this,o=this.component_,i=t.mixin({},o.config);o.getStateKeys().forEach(function(e){if("element"!==e){var t=o[e];r.isHtmlParam_(e)&&(t=s.toIncDom(t)),i[e]=t}});for(var a=0;a<n.length;a++)!i[n[a]]&&e.isFunction(o[n[a]])&&(i[n[a]]=o[n[a]].bind(o));return i},s.getTemplate=function(e,t){return function(n,r,o){if(!goog.loadedModules_[e])throw new Error('No template with namespace "'+e+'" has been loaded yet.');return goog.loadedModules_[e][t](n,r,o)}},s.handleInterceptedCall_=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=[e.componentCtor,null,[]];for(var r in t)n.push(r,t[r]);IncrementalDOM.elementVoid.apply(null,n)},s.prototype.isHtmlParam_=function(e){if(this.component_.getStateKeyConfig(e).isHtml)return!0;var t=this.soyParamTypes_[e]||"";return t.split("|").indexOf("html")!==-1},s.register=function(e,t){var r=arguments.length<=2||void 0===arguments[2]?"render":arguments[2];e.RENDERER=s,e.TEMPLATE=i.getOriginalFn(t[r]),e.TEMPLATE.componentCtor=e,i.registerForInterception(t,r),n.register(e)},s.prototype.renderIncDom=function(){var t=this.component_.constructor.TEMPLATE;e.isFunction(t)&&!this.component_.render?(t=i.getOriginalFn(t),i.startInterception(s.handleInterceptedCall_),t(this.buildTemplateData_(t.params||[]),null,a),i.stopInterception()):o.prototype.renderIncDom.call(this)},s.setInjectedData=function(e){a=e||{}},s.prototype.shouldUpdate=function(e){var t=o.prototype.shouldUpdate.call(this,e);if(!t||this.component_.shouldUpdate)return t;for(var n=this.component_.constructor.TEMPLATE,r=n?i.getOriginalFn(n).params:[],a=0;a<r.length;a++)if(e[r[a]])return!0;return!1},s.toHtmlString=function(e){var t=document.createElement("div");return IncrementalDOM.patch(t,e),t.innerHTML},s.toIncDom=function(t){return e.isObject(t)&&e.isString(t.content)&&"HTML"===t.contentKind&&(t=t.content),e.isString(t)&&(t=r.buildFn(t)),t},s}(o);this.Library.Soy=s,this.LibraryNamed.Soy=this.LibraryNamed.Soy||{},this.LibraryNamed.Soy.Soy=s,this.LibraryNamed.Soy.SoyAop=i}.call(this),function(){var e,t=this.Library.component,n=this.Library.Soy;goog.loadModule(function(t){function r(e,t,n){s("div",null,null,"class","loginform"),s("div",null,null,"class","form-group social"),s("button",null,null,"class","btn btn-social btn-google","type","button","data-onclick","loginWithGoogle"),s("span",null,null,"class","brand"),c("span",null,null,"class","icon icon-google"),l("span"),s("span",null,null,"class","btn-label"),u("Login with Google"),l("span"),l("button"),l("div"),l("div")}function o(e,t,n){var o=function(){r(e,null,n)};d(i.$$augmentMap(e,{content:o}),null,n)}goog.module("LoginForm.incrementaldom");var i=goog.require("soy");goog.require("soydata");goog.require("goog.i18n.bidi"),goog.require("goog.asserts");var a=goog.require("incrementaldom"),s=a.elementOpen,l=a.elementClose,c=a.elementVoid,u=(a.elementOpenStart,a.elementOpenEnd,a.text),d=(a.attr,n.getTemplate("Page.incrementaldom","render"));return t.render=r,goog.DEBUG&&(r.soyTemplateName="LoginForm.render"),t.layout=o,goog.DEBUG&&(o.soyTemplateName="LoginForm.layout"),t.render.params=[],t.render.types={},t.layout.params=["element"],t.layout.types={element:"any"},e=t,t});var r=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t}(t);n.register(r,e),this.LibraryNamed.LoginForm=this.LibraryNamed.LoginForm||{},this.LibraryNamed.LoginForm.LoginForm=r,this.LibraryNamed.LoginForm.templates=e,this.Library.LoginForm=e}.call(this),function(){var e=this.Library.component,t=this.Library.Soy,n=this.Library.LoginForm,r=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.loginWithGoogle=function(){window.loginWithGoogle()},t}(e);t.register(r,n),this.Library.LoginForm=r}.call(this),function(){var e=document.querySelector("form");e.addEventListener("submit",function(t){t.preventDefault(),WeDeploy.url("http://data.hackadaylibrary.wedeploy.me/organization").post({name:e.item.value}).then(function(t){e.reset(),e.item.focus()})["catch"](function(e){})})}.call(this),function(){var e,t=this.Library.component,n=this.Library.Soy;goog.loadModule(function(t){function n(e,t,n){o("!DOCTYPE",null,null,"html",""),o("html",null,null,"lang","en"),o("head"),o("meta",null,null,"charset","utf-8"),i("meta"),o("title"),s("Library"),i("title"),o("meta",null,null,"name","viewport","content","width=device-width, initial-scale=1"),i("meta"),o("link",null,null,"rel","shortcut icon","href","/favicon.ico"),i("link"),o("!--",null,null,"Fonts","","--",""),o("link",null,null,"rel","stylesheet","href","http://fonts.googleapis.com/css?family=Open+Sans:700,600,400,300|Roboto+Mono"),i("link"),o("link",null,null,"rel","stylesheet","href","/build/vendor/westyle/build/fonts/galano/font-galano.css"),i("link"),o("link",null,null,"rel","stylesheet","href","/build/vendor/westyle/build/fonts/icon-12.css"),i("link"),o("link",null,null,"rel","stylesheet","href","/build/vendor/westyle/build/fonts/icon-16.css"),i("link"),o("!--",null,null,"Styles","","--",""),o("link",null,null,"rel","stylesheet","href","/build/vendor/senna/senna.css"),i("link"),o("link",null,null,"rel","stylesheet","href","//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/styles/tomorrow-night-eighties.min.css"),i("link"),o("link",null,null,"rel","stylesheet","href","/build/vendor/westyle/build/bootstrap.css"),i("link"),a("script",null,null,"src","//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/highlight.min.js"),a("script",null,null,"src","https://cdn.socket.io/socket.io-1.3.0.js"),a("script",null,null,"src","http://cdn.wedeploy.com/api/latest/wedeploy.js"),a("script",null,null,"src","/build/globals/library.js"),i("head"),o("body"),a("div",null,null,"class","senna-loading-bar"),o("div",null,null,"id","content"),s((goog.asserts.assert(null!=e.content),e.content)),i("div"),i("body"),i("html")}goog.module("Page.incrementaldom");goog.require("soy"),goog.require("soydata");goog.require("goog.i18n.bidi"),goog.require("goog.asserts");var r=goog.require("incrementaldom"),o=r.elementOpen,i=r.elementClose,a=r.elementVoid,s=(r.elementOpenStart,r.elementOpenEnd,r.text);r.attr;return t.render=n,goog.DEBUG&&(n.soyTemplateName="Page.render"),t.render.params=["content"],t.render.types={content:"any"},e=t,t});var r=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t}(t);n.register(r,e),this.LibraryNamed.Page=this.LibraryNamed.Page||{},this.LibraryNamed.Page.Page=r,this.LibraryNamed.Page.templates=e,this.Library.Page=e}.call(this)}).call(this);